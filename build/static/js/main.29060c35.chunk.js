(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,t,n){e.exports=n(29)},25:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(1),l=n(2),r=n(3),i="https://pure-depths-98578.herokuapp.com",s=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("loggedIn")&&JSON.parse(localStorage.getItem("loggedIn")))},u=function(){var e=Object(l.g)();return c.a.createElement("nav",null,c.a.createElement("div",{className:"nav-wrapper white"},s()?c.a.createElement(r.b,{to:"/",className:"brand-logo left"},"Instagram"):c.a.createElement("div",{className:"brand-logo left "},"Instagram"),c.a.createElement("ul",{id:"nav-mobile",className:"right"},!s()&&c.a.createElement(a.Fragment,null,c.a.createElement("li",null,c.a.createElement(r.b,{to:"/signup",className:"brand"},"Signup")),c.a.createElement("li",null,c.a.createElement(r.b,{to:"/login",className:"brand"},"Login"))),s()&&c.a.createElement(a.Fragment,null,c.a.createElement("li",null,c.a.createElement(r.b,{to:"/profile",className:"brand"},"Profile")),c.a.createElement("li",null,c.a.createElement(r.b,{to:"/following",className:"brand"},"Following Posts")),c.a.createElement("li",null,c.a.createElement(r.b,{to:"/create",className:"brand"},"Create Post")),c.a.createElement("li",null,c.a.createElement("button",{className:"btn waves-effect waves-light #ff1744 red darken-1",onClick:function(){!function(e){if("undefined"!==typeof window)localStorage.removeItem("loggedIn"),e(),fetch("".concat(i,"/logout"),{method:"GET"}).then((function(e){return console.log("Signout Successs")})).catch((function(e){return console.log(e)}))}((function(){e.push("/signup")}))}},"logout"))))))},m=(n(25),function(e){var t=e.children;return c.a.createElement("div",null,c.a.createElement(u,null),c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",null,t)))}),d=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],u=t[1],d=s(),p=d.user,f=d.token;Object(a.useEffect)((function(){fetch("".concat(i,"/posts"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){return e.json()})).then((function(e){u(e)}))}),[f]);return c.a.createElement(m,null,s()?n.length>0?n.map((function(e){return c.a.createElement("div",{key:e._id},c.a.createElement("div",{className:"card home-card"},c.a.createElement("span",{className:"card-title"},c.a.createElement("h5",{style:{padding:"7px"}},c.a.createElement(r.b,{to:e.userId!==p._id?"/profile/".concat(e.userId):"/profile"},e.postedBy),e.postedBy===p.name&&c.a.createElement("i",{className:"material-icons",style:{float:"right"},onClick:function(){var t;t=e._id,fetch("".concat(i,"/post/delete/").concat(p._id,"/").concat(t),{method:"delete",headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){return e.json()})).then((function(e){var t=n.filter((function(t){return t._id!==e._id}));u(t)})).catch((function(e){console.log(e)}))}},"delete"))),c.a.createElement("div",{className:"card-image"},c.a.createElement("img",{alt:e.title,src:e.photo})),c.a.createElement("div",{className:"card-content"},e.like.includes(p.name)?c.a.createElement("i",{className:"material-icons",onClick:function(){var t;t=e._id,fetch("".concat(i,"/unlike"),{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(f)},body:JSON.stringify({postId:t,userId:p.name})}).then((function(e){return e.json()})).then((function(e){var t=n.map((function(t){return t._id===e._id?e:t}));u(t)})).catch((function(e){console.log(e)}))}},"thumb_down"):c.a.createElement("i",{className:"material-icons",onClick:function(){var t;t=e._id,fetch("".concat(i,"/like"),{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(f)},body:JSON.stringify({postId:t,userId:p.name})}).then((function(e){return e.json()})).then((function(e){var t=n.map((function(t){return t._id===e._id?e:t}));u(t)})).catch((function(e){console.log(e)}))}},"thumb_up"),c.a.createElement("h6",null,e.like.length," Likes"),c.a.createElement("h6",null,c.a.createElement("b",null,"Title : "),e.title),c.a.createElement("h6",null,c.a.createElement("b",null,"Body :")," ",e.body),e.comment.map((function(t){return c.a.createElement("h6",{key:t._id},c.a.createElement("span",{style:{fontWeight:"500"}},c.a.createElement("b",null,t.postedBy," : ")),t.text,t.postedBy===p.name&&c.a.createElement("i",{className:"material-icons",style:{float:"right"},onClick:function(){var a,c;a=t._id,c=e._id,fetch("".concat(i,"/comment/delete"),{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(f)},body:JSON.stringify({commentId:a,postId:c})}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=n.map((function(t){return t._id===e._id?e:t}));u(t)})).catch((function(e){console.log(e)}))}},"delete"))})),c.a.createElement("form",{onSubmit:function(t){var a,c;t.preventDefault(),a=t.target[0].value,c=e._id,fetch("".concat(i,"/comment"),{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(f)},body:JSON.stringify({text:a,postId:c,userName:p.name})}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=n.map((function(t){return t._id===e._id?e:t}));u(t)})).catch((function(e){console.log(e)}))}},c.a.createElement("input",{type:"text",placeholder:"add a comment"})))))})):c.a.createElement("h2",null,"Loading!"):c.a.createElement(l.a,{to:"/signup"}))},p=n(5),f=n.n(p),h=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),u=Object(o.a)(s,2),d=u[0],p=u[1],h=Object(l.g)();return c.a.createElement(m,null,c.a.createElement("div",null,c.a.createElement("div",{className:"logincard"},c.a.createElement("div",{className:"card auth-card input-field"},c.a.createElement("h2",null,"Instagram"),c.a.createElement("input",{type:"email",placeholder:"Email",value:n,onChange:function(e){return r(e.target.value)}}),c.a.createElement("input",{type:"password",placeholder:"Password",value:d,onChange:function(e){return p(e.target.value)}}),c.a.createElement("button",{className:"btn waves-effect waves-light #ff1744 red accent-3",onClick:function(){return e={email:n,password:d},fetch("".concat(i,"/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.error?f.a.toast({html:e.error,classes:"#c62828 red darken-2"}):(localStorage.setItem("loggedIn",JSON.stringify(e)),f.a.toast({html:"Login Successful",classes:"#43a047 green darken-1"}),setTimeout((function(){h.push("/")}),250))})).catch((function(e){return console.log(e)}));var e}},"Login")))))},g=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],s=t[1],u=Object(a.useState)(""),d=Object(o.a)(u,2),p=d[0],h=d[1],g=Object(a.useState)(""),E=Object(o.a)(g,2),b=E[0],v=E[1],y=Object(a.useState)(""),j=Object(o.a)(y,2),N=j[0],_=j[1],w="",O=Object(l.g)(),k=function(e){return fetch("".concat(i,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.error?f.a.toast({html:e.error,classes:"#c62828 red darken-2"}):(f.a.toast({html:"Signup Successful",classes:"#43a047 green darken-1"}),setTimeout((function(){O.push("/")}),250))})).catch((function(e){return console.log(e)}))};return c.a.createElement(m,null,c.a.createElement("div",null,c.a.createElement("div",{className:"signupcard"},c.a.createElement("div",{className:"card auth-card input-field"},c.a.createElement("h2",null,"Instagram"),c.a.createElement("input",{type:"text",className:"input-field",placeholder:"Username",value:n,onChange:function(e){return s(e.target.value)}}),c.a.createElement("input",{type:"email",className:"input-field",placeholder:"Email",value:p,onChange:function(e){return h(e.target.value)}}),c.a.createElement("input",{type:"password",className:"input-field",placeholder:"Password",value:b,onChange:function(e){return v(e.target.value)}}),c.a.createElement("div",{className:"file-field input"},c.a.createElement("div",{className:" btn waves-effect waves-light #ff1744 red accent-3"},c.a.createElement("span",null,"Upload DP"),c.a.createElement("input",{type:"file",onChange:function(e){return _(e.target.files[0])}})),c.a.createElement("div",{className:"file-path-wrapper"},c.a.createElement("input",{className:"file-path validate",type:"text"}))),c.a.createElement("button",{className:"btn waves-effect waves-light #ff1744 red accent-3",onClick:function(){return function(){if(N){var e=new FormData;e.append("file",N),e.append("upload_preset","insta-clone"),e.append("cloud_name","makarasu"),fetch("https://api.cloudinary.com/v1_1/makarasu/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){w=e.url})).then((function(){return k({name:n,email:p,password:b,photo:w})})).catch((function(e){console.log(e)}))}else k({name:n,email:p,password:b})}()}},"Signup"),c.a.createElement("h6",{className:"text-lighten-3"},"Already have an account ?",c.a.createElement(r.b,{to:"/login",className:"link"},"login"))))))},E=s(),b=E.user,v=E.token,y=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],u=t[1],d=Object(a.useState)([]),p=Object(o.a)(d,2),h=p[0],g=p[1],E=Object(a.useState)([]),y=Object(o.a)(E,2),j=y[0],N=y[1],_=s(),w=_.user,O=_.token,k=Object(a.useState)(""),x=Object(o.a)(k,2),S=x[0],C=x[1];Object(a.useEffect)((function(){var e="";if(S){var t=new FormData;t.append("file",S),t.append("upload_preset","insta-clone"),t.append("cloud_name","makarasu"),fetch("https://api.cloudinary.com/v1_1/makarasu/image/upload",{method:"post",body:t}).then((function(e){return e.json()})).then((function(t){e=t.secure_url,N(t.secure_url),f.a.toast({html:"Picture Updated Successfully",classes:"#43a047 green darken-1"})})).then((function(){return function(e){fetch("".concat(i,"/profile/pic/").concat(b._id),{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)},body:JSON.stringify({photo:e})}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(e)})).catch((function(e){console.log(e)}))}}),[S]);Object(a.useEffect)((function(){if(!w._id)return c.a.createElement(l.a,{to:"/signup"});fetch("".concat(i,"/myposts/").concat(w._id),{headers:{Authorization:"Bearer ".concat(O)}}).then((function(e){return e.json()})).then((function(e){u(e)})).then(fetch("".concat(i,"/profile/").concat(w._id)).then((function(e){return e.json()})).then((function(e){g(e),N(e.profile)})))}),[w._id,O]);return c.a.createElement(m,null,s()?h.profile&&j.length>0?c.a.createElement("div",{style:{maxWidth:"550px",margin:"0px auto"}},c.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",margin:"18px 0px",borderBottom:"1px solid grey"}},c.a.createElement("div",null,c.a.createElement("object",{data:j,style:{width:"160px",height:"160px",borderRadius:"80px"}},c.a.createElement("img",{style:{width:"160px",height:"160px",borderRadius:"80px"},src:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png",alt:""})),c.a.createElement("div",{className:"file-field input"},c.a.createElement("div",{className:" btn waves-effect waves-light #ff1744 red accent-3"},c.a.createElement("span",null,"Update DP"),c.a.createElement("input",{type:"file",onChange:function(e){return t=e.target.files[0],void C(t);var t}})),c.a.createElement("div",{className:"file-path-wrapper"},c.a.createElement("input",{className:"file-path validate",type:"text"})))),c.a.createElement("div",null,c.a.createElement("h4",null,w.name),c.a.createElement("h5",null,w.email),c.a.createElement("div",{style:{display:"Flex",justifyContent:"space-between",width:"108%"}},c.a.createElement("h6",null,n.length," Post"),c.a.createElement("h6",null,h.followers.length," Followers"),c.a.createElement("h6",null,h.following.length," Following")))),c.a.createElement("div",{className:"gallery"},n.map((function(e){return c.a.createElement("div",{key:e._id},c.a.createElement("div",{className:"card profile-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("div",{className:"card-image"},c.a.createElement("img",{key:e._id,className:"item",alt:e.title,src:e.photo})),c.a.createElement("i",{className:"material-icons",style:{float:"right"},onClick:function(){var t;t=e._id,fetch("".concat(i,"/post/delete/").concat(w._id,"/").concat(t),{method:"delete",headers:{Authorization:"Bearer ".concat(O)}}).then((function(e){return e.json()})).then((function(e){var t=n.filter((function(t){return t._id!==e._id}));u(t)})).catch((function(e){console.log(e)}))}},"delete"),c.a.createElement("i",{className:"material-icons",style:{float:"left"}},c.a.createElement(r.b,{to:"/editpost/".concat(e._id,"/")},"create ")))))})))):c.a.createElement("h2",null,"Loading!"):c.a.createElement(l.a,{to:"/signup"}))},j=function(){var e=Object(l.g)(),t=s(),n=t.user,r=t.token,u=Object(a.useState)(""),d=Object(o.a)(u,2),p=d[0],h=d[1],g=Object(a.useState)(""),E=Object(o.a)(g,2),b=E[0],v=E[1],y=Object(a.useState)(""),j=Object(o.a)(y,2),N=j[0],_=j[1],w=n.name,O=n._id,k="",x=function(){var t=new FormData;t.append("file",N),t.append("upload_preset","insta-clone"),t.append("cloud_name","makarasu"),fetch("https://api.cloudinary.com/v1_1/makarasu/image/upload",{method:"post",body:t}).then((function(e){return e.json()})).then((function(e){console.log(e),k=e.secure_url})).then((function(){return function(e,t,n,a,c,o,l,r){fetch("".concat(n,"/create/post/").concat(a._id),{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify({title:o,body:l,photo:e,postedBy:t,userId:r})}).then((function(e){return e.json()})).then((function(e){e.error?f.a.toast({html:e.error,classes:"#c62828 red darken-2"}):f.a.toast({html:"Post Created Successful",classes:"#43a047 green darken-1"})})).catch((function(e){return console.log(e)}))}(k,w,i,n,r,p,b,O)})).then((function(){return setTimeout((function(){e.push("/profile")}),2500)})).catch((function(e){console.log(e)}))};return c.a.createElement(m,null,c.a.createElement("div",{className:"card field"},c.a.createElement("input",{type:"text",placeholder:"Title",value:p,onChange:function(e){return h(e.target.value)}}),c.a.createElement("input",{type:"text",placeholder:"Body",value:b,onChange:function(e){return v(e.target.value)}}),c.a.createElement("div",{className:"file-field input"},c.a.createElement("div",{className:" btn waves-effect waves-light #ff1744 red accent-3"},c.a.createElement("span",null,"Upload Image"),c.a.createElement("input",{type:"file",onChange:function(e){return _(e.target.files[0])}})),c.a.createElement("div",{className:"file-path-wrapper"},c.a.createElement("input",{className:"file-path validate",type:"text"}))),c.a.createElement("button",{className:"btn waves-effect waves-light #ff1744 red accent-3",onClick:function(){return x()}},"Submit Post")))},N=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],u=Object(l.g)(),d=s(),p=d.user,h=d.token,g=Object(l.h)().userId;Object(a.useEffect)((function(){if(!p._id)return c.a.createElement(l.a,{to:"/signup"});fetch("".concat(i,"/profile/").concat(g)).then((function(e){return e.json()})).then((function(e){r(e)}))}),[p._id,g]);return c.a.createElement(m,null,c.a.createElement(c.a.Fragment,null,s()?n.profile?c.a.createElement("div",{style:{maxWidth:"550px",margin:"0px auto"}},c.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",margin:"18px 0px",borderBottom:"1px solid grey"}},c.a.createElement("div",null,c.a.createElement("object",{data:n.profile,style:{width:"160px",height:"160px",borderRadius:"80px"}},c.a.createElement("img",{style:{width:"160px",height:"160px",borderRadius:"80px"},src:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png",alt:""}))),c.a.createElement("div",null,c.a.createElement("h4",null,n.username),c.a.createElement("h5",null,n.useremail),c.a.createElement("div",{style:{display:"Flex",justifyContent:"space-between",width:"108%"}},c.a.createElement("h6",null,n.posts.length," posts"),c.a.createElement("h6",null,n.followers.length," Followers"),c.a.createElement("h6",null,n.following.length," Following")),c.a.createElement("div",{style:{padding:"10px 0px "}},n.followers.includes(p.name)?c.a.createElement("button",{className:"btn waves-effect waves-light #ff1744 blue accent-3",onClick:function(){fetch("".concat(i,"/unfollow"),{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(h)},body:JSON.stringify({username:n.username,unfollowId:g,name:p.name,id:p._id})}).then((function(e){return e.json()})).then((function(){f.a.toast({html:"You unfollowed ".concat(n.username),classes:"#43a047 green darken-1"}),setTimeout((function(){u.push("/following")}),1e3)})).catch((function(e){console.log(e)}))}},"Unfollow"):c.a.createElement("button",{className:"btn waves-effect waves-light #ff1744 blue accent-3",onClick:function(){fetch("".concat(i,"/follow"),{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(h)},body:JSON.stringify({username:n.username,followId:g,name:p.name,id:p._id})}).then((function(e){return e.json()})).then((function(){f.a.toast({html:"You are following ".concat(n.username),classes:"#43a047 green darken-1"}),setTimeout((function(){u.push("/following")}),1e3)})).catch((function(e){console.log(e)}))}},"Follow")))),c.a.createElement("div",{className:"gallery"},n.posts.map((function(e){return c.a.createElement("img",{key:e._id,className:"item",alt:e.title,src:e.photo})})))):c.a.createElement("h2",null,"Loading!"):c.a.createElement(l.a,{to:"/signup"})))},_=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],u=s(),d=u.user,p=u.token,h=Object(l.h)().postId,g=Object(a.useState)(""),E=Object(o.a)(g,2),b=E[0],v=E[1],y=Object(a.useState)(""),j=Object(o.a)(y,2),N=j[0],_=j[1],w=Object(a.useState)(""),O=Object(o.a)(w,2),k=O[0],x=O[1],S=Object(l.g)();Object(a.useEffect)((function(){fetch("".concat(i,"/post/").concat(h),{headers:{Authorization:"Bearer ".concat(p)}}).then((function(e){return e.json()})).then((function(e){r(e),v(e.title),_(e.body),x(e.photo)}))}),[h,p]);var C="",I=function(e,t,n,a,c){fetch("".concat(i,"/post/update/").concat(c),{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({photo:n,title:e,body:t,postId:c})}).then((function(e){return e.json()})).then((function(e){e.error?f.a.toast({html:e.error,classes:"#c62828 red darken-2"}):(f.a.toast({html:"Post Updated Successful",classes:"#43a047 green darken-1"}),setTimeout((function(){S.push("/profile")}),1e3))})).catch((function(e){console.log(e)}))};return c.a.createElement(m,null,s()?d.name===n.postedBy?c.a.createElement("div",{className:"card home-card"},c.a.createElement("h5",{style:{padding:"7px"}},"Edit Post"),c.a.createElement("div",{className:"card-image"},c.a.createElement("img",{alt:n.title,src:n.photo})),c.a.createElement("div",{className:"card-content"},c.a.createElement("h5",null,c.a.createElement("b",null,"Title : "),n.title),c.a.createElement("h5",null,c.a.createElement("b",null,"Body :")," ",n.body)),c.a.createElement("div",{className:"card field"},c.a.createElement("input",{type:"text",placeholder:"Title",value:b,onChange:function(e){return v(e.target.value)}}),c.a.createElement("input",{type:"text",placeholder:"Body",value:N,onChange:function(e){return _(e.target.value)}}),c.a.createElement("div",{className:"file-field input"},c.a.createElement("div",{className:" btn waves-effect waves-light #ff1744 red accent-3"},c.a.createElement("span",null,"Upload Image"),c.a.createElement("input",{type:"file",onChange:function(e){return x(e.target.files[0])}})),c.a.createElement("div",{className:"file-path-wrapper"},c.a.createElement("input",{className:"file-path validate",type:"text"}))),c.a.createElement("button",{className:"btn waves-effect waves-light #ff1744 red accent-3",onClick:function(){return function(){var e=new FormData;e.append("file",k),e.append("upload_preset","insta-clone"),e.append("cloud_name","makarasu"),fetch("https://api.cloudinary.com/v1_1/makarasu/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){C=e.secure_url})).then((function(){return I(b,N,C,p,h)})).catch((function(e){console.log(e)}))}()}},"Update Post"))):c.a.createElement("h2",null,"Loading!"):c.a.createElement(l.a,{to:"/signup"}))},w=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],u=t[1],d=s(),p=d.user,f=d.token;Object(a.useEffect)((function(){if(!p._id)return c.a.createElement(l.a,{to:"/signup"});fetch("".concat(i,"/feed/").concat(p._id),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){return e.json()})).then((function(e){u(e)}))}),[p._id,f]);return c.a.createElement(m,null,s()?n.length>0?n.map((function(e){return c.a.createElement("div",{key:e._id},c.a.createElement("div",{className:"card home-card"},c.a.createElement("span",{className:"card-title"},c.a.createElement("h5",{style:{padding:"7px"}},c.a.createElement(r.b,{to:e.userId!==p._id?"/profile/".concat(e.userId):"/profile"},e.postedBy),e.postedBy===p.name&&c.a.createElement("i",{className:"material-icons",style:{float:"right"},onClick:function(){var t;t=e._id,fetch("".concat(i,"/post/delete/").concat(p._id,"/").concat(t),{method:"delete",headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){return e.json()})).then((function(e){var t=n.filter((function(t){return t._id!==e._id}));u(t)})).catch((function(e){console.log(e)}))}},"delete"))),c.a.createElement("div",{className:"card-image"},c.a.createElement("img",{alt:e.title,src:e.photo})),c.a.createElement("div",{className:"card-content"},e.like.includes(p.name)?c.a.createElement("i",{className:"material-icons",onClick:function(){var t;t=e._id,fetch("".concat(i,"/unlike"),{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(f)},body:JSON.stringify({postId:t,userId:p.name})}).then((function(e){return e.json()})).then((function(e){var t=n.map((function(t){return t._id===e._id?e:t}));u(t)})).catch((function(e){console.log(e)}))}},"thumb_down"):c.a.createElement("i",{className:"material-icons",onClick:function(){var t;t=e._id,fetch("".concat(i,"/like"),{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(f)},body:JSON.stringify({postId:t,userId:p.name})}).then((function(e){return e.json()})).then((function(e){var t=n.map((function(t){return t._id===e._id?e:t}));u(t)})).catch((function(e){console.log(e)}))}},"thumb_up"),c.a.createElement("h6",null,e.like.length," Likes"),c.a.createElement("h6",null,c.a.createElement("b",null,"Title : "),e.title),c.a.createElement("h6",null,c.a.createElement("b",null,"Body :")," ",e.body),e.comment.map((function(t){return c.a.createElement("h6",{key:t._id},c.a.createElement("span",{style:{fontWeight:"500"}},c.a.createElement("b",null,t.postedBy," : ")),t.text,t.postedBy===p.name&&c.a.createElement("i",{className:"material-icons",style:{float:"right"},onClick:function(){var a,c;a=t._id,c=e._id,fetch("".concat(i,"/comment/delete"),{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(f)},body:JSON.stringify({commentId:a,postId:c})}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=n.map((function(t){return t._id===e._id?e:t}));u(t)})).catch((function(e){console.log(e)}))}},"delete"))})),c.a.createElement("form",{onSubmit:function(t){var a,c;t.preventDefault(),a=t.target[0].value,c=e._id,fetch("".concat(i,"/comment"),{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(f)},body:JSON.stringify({text:a,postId:c,userName:p.name})}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=n.map((function(t){return t._id===e._id?e:t}));u(t)})).catch((function(e){console.log(e)}))}},c.a.createElement("input",{type:"text",placeholder:"add a comment"})))))})):c.a.createElement("h2",null,"Loading!"):c.a.createElement(l.a,{to:"/signup"}))},O=function(){return c.a.createElement(r.a,null,c.a.createElement(l.d,null,c.a.createElement(l.b,{path:"/",exact:!0,component:d}),c.a.createElement(l.b,{path:"/signup",exact:!0,component:g}),c.a.createElement(l.b,{path:"/login",exact:!0,component:h}),c.a.createElement(l.b,{path:"/profile",exact:!0,component:y}),c.a.createElement(l.b,{path:"/create",exact:!0,component:j}),c.a.createElement(l.b,{path:"/profile/:userId",exact:!0,component:N}),c.a.createElement(l.b,{path:"/editpost/:postId",exact:!0,component:_}),c.a.createElement(l.b,{path:"/following",exact:!0,component:w})))},k=n(18);n.n(k).a.render(c.a.createElement(O,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.29060c35.chunk.js.map
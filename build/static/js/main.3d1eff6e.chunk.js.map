{"version":3,"sources":["backend.js","helper/AuthHelper.js","core/Navbar.js","App.js","pages/Home.js","pages/Login.js","pages/Signup.js","pages/Profile.js","helper/PostHelper.js","pages/CreatePost.js","pages/UserProfile.js","pages/Mypost.js","pages/FollowingPost.js","Routes.js","index.js"],"names":["API","signup","user","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","data","error","M","toast","html","classes","setTimeout","window","location","href","catch","console","log","isAuthenticated","localStorage","getItem","parse","NavBar","className","to","id","onClick","removeItem","logout","App","children","Home","useState","pics","setPics","token","useEffect","Authorization","res","result","map","item","key","_id","style","padding","userId","postedBy","name","float","postid","newData","filter","err","alt","title","src","photo","like","includes","postId","length","comment","record","fontWeight","text","cId","commentId","onSubmit","e","preventDefault","target","value","userName","type","placeholder","Login","email","setEmail","password","setPassword","onChange","setItem","Signup","setName","image","setImage","files","FormData","append","url","uploadPic","Profile","mypics","userDetails","setDetails","dp","setDp","updateProfilePic","profile","username","maxWidth","margin","display","justifyContent","borderBottom","width","height","borderRadius","file","followers","following","CreatePost","setTitle","setBody","PostDetails","CreateaPost","UserProfile","userProfile","setProfile","useParams","posts","useremail","unfollowId","reload","followId","Post","UpdatePost","Update","Following","Routes","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3d1eff6e.chunk.js","sourcesContent":["export const API = \"https://pure-depths-98578.herokuapp.com\";\r\n","import { API } from \"../backend\";\r\nimport M from \"materialize-css\";\r\n\r\nexport const signup = (user) => {\r\n  return fetch(`${API}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      if (!data.error) {\r\n        M.toast({\r\n          html: \"Signup Successful\",\r\n          classes: \"#43a047 green darken-1\",\r\n        });\r\n        setTimeout(() => {\r\n          window.location.href = \"/login\";\r\n        }, 2000);\r\n      } else {\r\n        M.toast({\r\n          html: data.error,\r\n          classes: \"#c62828 red darken-2\",\r\n        });\r\n      }\r\n    })\r\n    .catch((error) => console.log(error));\r\n};\r\n\r\nexport const login = (user) => {\r\n  return fetch(`${API}/login`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      if (!data.error) {\r\n        localStorage.setItem(\"loggedIn\", JSON.stringify(data));\r\n        M.toast({\r\n          html: \"Login Successful\",\r\n          classes: \"#43a047 green darken-1\",\r\n        });\r\n        setTimeout(() => {\r\n          window.location.href = \"/profile\";\r\n        }, 250);\r\n      } else {\r\n        M.toast({\r\n          html: data.error,\r\n          classes: \"#c62828 red darken-2\",\r\n        });\r\n      }\r\n    })\r\n    .catch((error) => console.log(error));\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  if (typeof window == \"undefined\") {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem(\"loggedIn\")) {\r\n    return JSON.parse(localStorage.getItem(\"loggedIn\"));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const logout = () => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"loggedIn\");\r\n\r\n    return fetch(`${API}/logout`, {\r\n      method: \"GET\",\r\n    })\r\n      .then(() =>\r\n        setTimeout(() => {\r\n          window.location.href = \"/signup\";\r\n        }, 250)\r\n      )\r\n      .catch((error) => console.log(error));\r\n  }\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { logout, isAuthenticated } from \"../helper/AuthHelper\";\r\n\r\nconst NavBar = () => {\r\n  return (\r\n    <nav>\r\n      <div className=\"nav-wrapper white\">\r\n        {isAuthenticated() ? (\r\n          <Link to=\"/\" className=\"brand-logo left\">\r\n            Instagram\r\n          </Link>\r\n        ) : (\r\n          <div className=\"brand-logo left \">Instagram</div>\r\n        )}\r\n\r\n        <ul id=\"nav-mobile\" className=\"right\">\r\n          {!isAuthenticated() && (\r\n            <Fragment>\r\n              <li>\r\n                <Link to=\"/signup\" className=\"brand\">\r\n                  Signup\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/login\" className=\"brand\">\r\n                  Login\r\n                </Link>\r\n              </li>\r\n            </Fragment>\r\n          )}\r\n\r\n          {isAuthenticated() && (\r\n            <Fragment>\r\n              <li>\r\n                <Link to=\"/profile\" className=\"brand\">\r\n                  Profile\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/following\" className=\"brand\">\r\n                  Following Posts\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/create\" className=\"brand\">\r\n                  Create Post\r\n                </Link>\r\n              </li>\r\n\r\n              <li>\r\n                <button\r\n                  className=\"btn waves-effect waves-light #ff1744 red darken-1\"\r\n                  onClick={() => logout()}\r\n                >\r\n                  logout\r\n                </button>\r\n              </li>\r\n            </Fragment>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\nimport NavBar from \"./core/Navbar\";\nimport \"./App.css\";\n\nconst App = ({ children }) => (\n  <div>\n    <NavBar />\n    <div className=\"container-fluid\">\n      <div>{children}</div>\n    </div>\n  </div>\n);\n\nexport default App;\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\nconst Home = () => {\r\n  const [pics, setPics] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n\r\n  useEffect(() => {\r\n    const preload = () => {\r\n      fetch(`${API}/posts`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          setPics(result);\r\n        });\r\n    };\r\n    preload();\r\n  }, [token]);\r\n\r\n  const likePost = (id) => {\r\n    fetch(`${API}/like`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n        userId: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const unlikePost = (id) => {\r\n    fetch(`${API}/unlike`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n        userId: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deletePost = (postid) => {\r\n    fetch(`${API}/post/delete/${user._id}/${postid}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.filter((item) => {\r\n          return item._id !== result._id;\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const makeComment = (text, id) => {\r\n    fetch(`${API}/comment`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        text: text,\r\n        postId: id,\r\n        userName: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deleteComment = (cId, id) => {\r\n    fetch(`${API}/comment/delete`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        commentId: cId,\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      {!isAuthenticated() && <Redirect to=\"/signup\" />}\r\n      {isAuthenticated() &&\r\n        pics.map((item) => {\r\n          return (\r\n            <div key={item._id}>\r\n              <div className=\"card home-card\">\r\n                <span className=\"card-title\">\r\n                  <h5 style={{ padding: \"7px\" }}>\r\n                    <Link\r\n                      to={\r\n                        item.userId !== user._id\r\n                          ? `/profile/${item.userId}`\r\n                          : `/profile`\r\n                      }\r\n                    >\r\n                      {item.postedBy}\r\n                    </Link>\r\n                    {item.postedBy === user.name && (\r\n                      <i\r\n                        className=\"material-icons\"\r\n                        style={{ float: \"right\" }}\r\n                        onClick={() => {\r\n                          deletePost(item._id);\r\n                        }}\r\n                      >\r\n                        delete\r\n                      </i>\r\n                    )}\r\n                  </h5>\r\n                  {/* <h6 style={{ padding: \"10px\" }}>{item.createdAt}</h6> */}\r\n                </span>\r\n                <div className=\"card-image\">\r\n                  <img alt={item.title} src={item.photo} />\r\n                </div>\r\n                <div className=\"card-content\">\r\n                  {item.like.includes(user.name) ? (\r\n                    <i\r\n                      className=\"material-icons\"\r\n                      onClick={() => {\r\n                        unlikePost(item._id);\r\n                      }}\r\n                    >\r\n                      thumb_down\r\n                    </i>\r\n                  ) : (\r\n                    <i\r\n                      className=\"material-icons\"\r\n                      onClick={() => {\r\n                        likePost(item._id);\r\n                      }}\r\n                    >\r\n                      thumb_up\r\n                    </i>\r\n                  )}\r\n\r\n                  <h6>{item.like.length} Likes</h6>\r\n                  <h6>\r\n                    <b>Title : </b>\r\n                    {item.title}\r\n                  </h6>\r\n                  <h6>\r\n                    <b>Body :</b> {item.body}\r\n                  </h6>\r\n                  {item.comment.map((record) => {\r\n                    return (\r\n                      <h6 key={record._id}>\r\n                        <span style={{ fontWeight: \"500\" }}>\r\n                          <b>{record.postedBy} : </b>\r\n                        </span>\r\n                        {record.text}\r\n                        {record.postedBy === user.name && (\r\n                          <i\r\n                            className=\"material-icons\"\r\n                            style={{ float: \"right\" }}\r\n                            onClick={() => {\r\n                              deleteComment(record._id, item._id);\r\n                            }}\r\n                          >\r\n                            delete\r\n                          </i>\r\n                        )}\r\n                      </h6>\r\n                    );\r\n                  })}\r\n                  <form\r\n                    onSubmit={(e) => {\r\n                      e.preventDefault();\r\n                      makeComment(e.target[0].value, item._id);\r\n                    }}\r\n                  >\r\n                    <input type=\"text\" placeholder=\"add a comment\" />\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { login } from \"../helper/AuthHelper\";\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const signupform = () => {\r\n    return (\r\n      <div>\r\n        <div className=\"logincard\">\r\n          <div className=\"card auth-card input-field\">\r\n            <h2>Instagram</h2>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n            <button\r\n              className=\"btn waves-effect waves-light #ff1744 red accent-3\"\r\n              onClick={() => login({ email, password })}\r\n            >\r\n              Login\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  return <App>{signupform()}</App>;\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signup } from \"../helper/AuthHelper\";\r\n\r\nconst Signup = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  let photo = \"\";\r\n\r\n  const uploadPic = () => {\r\n    if (image) {\r\n      const data = new FormData();\r\n      data.append(\"file\", image);\r\n      data.append(\"upload_preset\", \"insta-clone\");\r\n      data.append(\"cloud_name\", \"makarasu\");\r\n      fetch(\"https://api.cloudinary.com/v1_1/makarasu/image/upload\", {\r\n        method: \"post\",\r\n        body: data,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          photo = data.url;\r\n        })\r\n        .then(() => signup({ name, email, password, photo }))\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      signup({ name, email, password });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      <div>\r\n        <div className=\"signupcard\">\r\n          <div className=\"card auth-card input-field\">\r\n            <h2>Instagram</h2>\r\n            <input\r\n              type=\"text\"\r\n              className=\"input-field\"\r\n              placeholder=\"Username\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"email\"\r\n              className=\"input-field\"\r\n              placeholder=\"Email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              className=\"input-field\"\r\n              placeholder=\"Password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n            <div className=\"file-field input\">\r\n              <div className=\" btn waves-effect waves-light #ff1744 red accent-3\">\r\n                <span>Upload DP</span>\r\n                <input\r\n                  type=\"file\"\r\n                  onChange={(e) => setImage(e.target.files[0])}\r\n                />\r\n              </div>\r\n              <div className=\"file-path-wrapper\">\r\n                <input className=\"file-path validate\" type=\"text\" />\r\n              </div>\r\n            </div>\r\n            <button\r\n              className=\"btn waves-effect waves-light #ff1744 red accent-3\"\r\n              onClick={() => uploadPic()}\r\n            >\r\n              Signup\r\n            </button>\r\n            <h6 className=\"text-lighten-3\">\r\n              Already have an account ?\r\n              <Link to=\"/login\" className=\"link\">\r\n                login\r\n              </Link>\r\n            </h6>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { updateProfilePic } from \"../helper/PostHelper\";\r\nimport { API } from \"../backend\";\r\nimport M from \"materialize-css\";\r\nconst Profile = () => {\r\n  const [mypics, setPics] = useState([]);\r\n  const [userDetails, setDetails] = useState([]);\r\n  const [dp, setDp] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n  const [image, setImage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let photo = \"\";\r\n    if (image) {\r\n      const data = new FormData();\r\n      data.append(\"file\", image);\r\n      data.append(\"upload_preset\", \"insta-clone\");\r\n      data.append(\"cloud_name\", \"makarasu\");\r\n      fetch(\"https://api.cloudinary.com/v1_1/makarasu/image/upload\", {\r\n        method: \"post\",\r\n        body: data,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          photo = data.url;\r\n          setDp(data.url);\r\n          M.toast({\r\n            html: \"Picture Updated Successfully\",\r\n            classes: \"#43a047 green darken-1\",\r\n          });\r\n        })\r\n        .then(() => updateProfilePic(photo, user._id, token))\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [image, token, user._id]);\r\n\r\n  const updatePic = (file) => {\r\n    setImage(file);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const preload = () => {\r\n      fetch(`${API}/myposts/${user._id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          setPics(result);\r\n        })\r\n        .then(\r\n          fetch(`${API}/profile/${user._id}`)\r\n            .then((res) => res.json())\r\n            .then((result) => {\r\n              setDetails(result);\r\n              setDp(result.profile);\r\n            })\r\n        );\r\n    };\r\n    preload();\r\n  }, [user._id, token]);\r\n\r\n  const deletePost = (postid) => {\r\n    fetch(`${API}/post/delete/${user._id}/${postid}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = mypics.filter((item) => {\r\n          return item._id !== result._id;\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  // const editpost = (postid) => {};\r\n\r\n  return (\r\n    <App>\r\n      {userDetails.username && dp.length > 0 ? (\r\n        <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-around\",\r\n              margin: \"18px 0px\",\r\n              borderBottom: \"1px solid grey\",\r\n            }}\r\n          >\r\n            <div>\r\n              <object\r\n                data={dp}\r\n                style={{\r\n                  width: \"160px\",\r\n                  height: \"160px\",\r\n                  borderRadius: \"80px\",\r\n                }}\r\n              >\r\n                <img\r\n                  style={{\r\n                    width: \"160px\",\r\n                    height: \"160px\",\r\n                    borderRadius: \"80px\",\r\n                  }}\r\n                  src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png\"\r\n                  alt=\"\"\r\n                />\r\n              </object>\r\n              <div className=\"file-field input\">\r\n                <div className=\" btn waves-effect waves-light #ff1744 red accent-3\">\r\n                  <span>Update DP</span>\r\n                  <input\r\n                    type=\"file\"\r\n                    onChange={(e) => updatePic(e.target.files[0])}\r\n                  />\r\n                </div>\r\n                <div className=\"file-path-wrapper\">\r\n                  <input className=\"file-path validate\" type=\"text\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <h4>{user.name}</h4>\r\n              <h5>{user.email}</h5>\r\n\r\n              <div\r\n                style={{\r\n                  display: \"Flex\",\r\n                  justifyContent: \"space-between\",\r\n                  width: \"108%\",\r\n                }}\r\n              >\r\n                <h6>{mypics.length} Post</h6>\r\n                <h6>{userDetails.followers.length} Followers</h6>\r\n                <h6>{userDetails.following.length} Following</h6>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"gallery\">\r\n            {mypics.map((item) => {\r\n              return (\r\n                <div key={item._id}>\r\n                  <div className=\"card profile-card\">\r\n                    <div className=\"card-content\">\r\n                      <div className=\"card-image\">\r\n                        <img\r\n                          key={item._id}\r\n                          className=\"item\"\r\n                          alt={item.title}\r\n                          src={item.photo}\r\n                        />\r\n                      </div>\r\n                      <i\r\n                        className=\"material-icons\"\r\n                        style={{ float: \"right\" }}\r\n                        onClick={() => {\r\n                          deletePost(item._id);\r\n                        }}\r\n                      >\r\n                        delete\r\n                      </i>\r\n                      <i\r\n                        className=\"material-icons\"\r\n                        style={{ float: \"left\" }}\r\n                        onClick={() => {\r\n                          window.location.href = `/editpost/${item._id}/`;\r\n                        }}\r\n                      >\r\n                        create\r\n                      </i>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <h2>Loading!</h2>\r\n      )}\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import M from \"materialize-css\";\r\nimport { API } from \"../backend\";\r\n\r\nexport const CreateaPost = (\r\n  photo,\r\n  postedBy,\r\n  API,\r\n  user,\r\n  token,\r\n  title,\r\n  body,\r\n  userId\r\n) => {\r\n  fetch(`${API}/create/post/${user._id}`, {\r\n    method: \"post\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({\r\n      title,\r\n      body,\r\n      photo,\r\n      postedBy,\r\n      userId,\r\n    }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      if (!data.error) {\r\n        M.toast({\r\n          html: \"Post Created Successful\",\r\n          classes: \"#43a047 green darken-1\",\r\n        });\r\n        setTimeout(() => {\r\n          window.location.href = \"/\";\r\n        }, 2000);\r\n      } else {\r\n        M.toast({\r\n          html: data.error,\r\n          classes: \"#c62828 red darken-2\",\r\n        });\r\n      }\r\n    })\r\n    .catch((error) => console.log(error));\r\n};\r\n\r\nexport const updateProfilePic = (photo, user, token) => {\r\n  fetch(`${API}/profile/pic/${user}`, {\r\n    method: \"put\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({\r\n      photo: photo,\r\n    }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const Update = (title, body, photo, token, postId) => {\r\n  fetch(`${API}/post/update/${postId}`, {\r\n    method: \"put\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({\r\n      photo: photo,\r\n      title: title,\r\n      body: body,\r\n      postId: postId,\r\n    }),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      if (!data.error) {\r\n        M.toast({\r\n          html: \"Post Updated Successful\",\r\n          classes: \"#43a047 green darken-1\",\r\n        });\r\n        setTimeout(() => {\r\n          window.location.href = `/editpost/${postId}`;\r\n        }, 2000);\r\n      } else {\r\n        M.toast({\r\n          html: data.error,\r\n          classes: \"#c62828 red darken-2\",\r\n        });\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n","import React, { useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport { CreateaPost } from \"../helper/PostHelper\";\r\nconst CreatePost = () => {\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const postedBy = user.name;\r\n  const userId = user._id;\r\n  let photo = \"\";\r\n\r\n  const PostDetails = () => {\r\n    const data = new FormData();\r\n    data.append(\"file\", image);\r\n    data.append(\"upload_preset\", \"insta-clone\");\r\n    data.append(\"cloud_name\", \"makarasu\");\r\n    fetch(\"https://api.cloudinary.com/v1_1/makarasu/image/upload\", {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        photo = data.url;\r\n      })\r\n      .then(() =>\r\n        CreateaPost(photo, postedBy, API, user, token, title, body, userId)\r\n      )\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      <div className=\"card field\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Title\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Body\"\r\n          value={body}\r\n          onChange={(e) => setBody(e.target.value)}\r\n        />\r\n        <div className=\"file-field input\">\r\n          <div className=\" btn waves-effect waves-light #ff1744 red accent-3\">\r\n            <span>Upload Image</span>\r\n            <input type=\"file\" onChange={(e) => setImage(e.target.files[0])} />\r\n          </div>\r\n          <div className=\"file-path-wrapper\">\r\n            <input className=\"file-path validate\" type=\"text\" />\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"btn waves-effect waves-light #ff1744 red accent-3\"\r\n          onClick={() => PostDetails()}\r\n        >\r\n          Submit Post\r\n        </button>\r\n      </div>\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport { useParams, Redirect } from \"react-router-dom\";\r\n\r\nconst UserProfile = () => {\r\n  const [userProfile, setProfile] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n  const { userId } = useParams();\r\n\r\n  useEffect(() => {\r\n    const preload = () => {\r\n      fetch(`${API}/profile/${userId}`)\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          setProfile(result);\r\n        });\r\n    };\r\n    preload();\r\n  }, [userId]);\r\n\r\n  const followUser = () => {\r\n    fetch(`${API}/follow`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        username: userProfile.username,\r\n        followId: userId,\r\n        name: user.name,\r\n        id: user._id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        window.location.reload();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const unfollowUser = () => {\r\n    fetch(`${API}/unfollow`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        username: userProfile.username,\r\n        unfollowId: userId,\r\n        name: user.name,\r\n        id: user._id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        window.location.reload();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      <>\r\n        {!isAuthenticated() && <Redirect to=\"/signup\" />}\r\n        {isAuthenticated() && userProfile.posts ? (\r\n          <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-around\",\r\n                margin: \"18px 0px\",\r\n                borderBottom: \"1px solid grey\",\r\n              }}\r\n            >\r\n              <div>\r\n                <object\r\n                  data={userProfile.profile}\r\n                  style={{\r\n                    width: \"160px\",\r\n                    height: \"160px\",\r\n                    borderRadius: \"80px\",\r\n                  }}\r\n                >\r\n                  <img\r\n                    style={{\r\n                      width: \"160px\",\r\n                      height: \"160px\",\r\n                      borderRadius: \"80px\",\r\n                    }}\r\n                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png\"\r\n                    alt=\"\"\r\n                  />\r\n                </object>\r\n              </div>\r\n              <div>\r\n                <h4>{userProfile.username}</h4>\r\n                <h5>{userProfile.useremail}</h5>\r\n                <div\r\n                  style={{\r\n                    display: \"Flex\",\r\n                    justifyContent: \"space-between\",\r\n                    width: \"108%\",\r\n                  }}\r\n                >\r\n                  <h6>{userProfile.posts.length} posts</h6>\r\n                  <h6>{userProfile.followers.length} Followers</h6>\r\n                  <h6>{userProfile.following.length} Following</h6>\r\n                </div>\r\n                <div style={{ padding: \"10px 0px \" }}>\r\n                  {userProfile.followers.includes(user.name) ? (\r\n                    <button\r\n                      className=\"btn waves-effect waves-light #ff1744 blue accent-3\"\r\n                      onClick={() => unfollowUser()}\r\n                    >\r\n                      Unfollow\r\n                    </button>\r\n                  ) : (\r\n                    <button\r\n                      className=\"btn waves-effect waves-light #ff1744 blue accent-3\"\r\n                      onClick={() => followUser()}\r\n                    >\r\n                      Follow\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"gallery\">\r\n              {userProfile.posts.map((item) => {\r\n                return (\r\n                  <img\r\n                    key={item._id}\r\n                    className=\"item\"\r\n                    alt={item.title}\r\n                    src={item.photo}\r\n                  />\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <h2>Loading!</h2>\r\n        )}\r\n      </>\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport { Redirect, useParams } from \"react-router-dom\";\r\nimport { Update } from \"../helper/PostHelper\";\r\n\r\nconst Post = () => {\r\n  const [pics, setPics] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n  const { postId } = useParams();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const preload = () => {\r\n      fetch(`${API}/post/${postId}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          setPics(result);\r\n          setTitle(result.title);\r\n          setBody(result.body);\r\n          setImage(result.photo);\r\n        });\r\n    };\r\n    preload();\r\n  }, [postId, token]);\r\n\r\n  let photo = \"\";\r\n  const UpdatePost = () => {\r\n    const data = new FormData();\r\n    data.append(\"file\", image);\r\n    data.append(\"upload_preset\", \"insta-clone\");\r\n    data.append(\"cloud_name\", \"makarasu\");\r\n    fetch(\"https://api.cloudinary.com/v1_1/makarasu/image/upload\", {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        photo = data.url;\r\n      })\r\n      .then(() => Update(title, body, photo, token, postId))\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      {!isAuthenticated() && <Redirect to=\"/signup\" />}\r\n      {isAuthenticated() && user.name === pics.postedBy && (\r\n        <div className=\"card home-card\">\r\n          <h5 style={{ padding: \"7px\" }}>Edit Post</h5>\r\n          <div className=\"card-image\">\r\n            <img alt={pics.title} src={pics.photo} />\r\n          </div>\r\n          <div className=\"card-content\">\r\n            <h5>\r\n              <b>Title : </b>\r\n              {pics.title}\r\n            </h5>\r\n            <h5>\r\n              <b>Body :</b> {pics.body}\r\n            </h5>\r\n          </div>\r\n          <div className=\"card field\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Title\"\r\n              value={title}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Body\"\r\n              value={body}\r\n              onChange={(e) => setBody(e.target.value)}\r\n            />\r\n            <div className=\"file-field input\">\r\n              <div className=\" btn waves-effect waves-light #ff1744 red accent-3\">\r\n                <span>Upload Image</span>\r\n                <input\r\n                  type=\"file\"\r\n                  onChange={(e) => setImage(e.target.files[0])}\r\n                />\r\n              </div>\r\n              <div className=\"file-path-wrapper\">\r\n                <input className=\"file-path validate\" type=\"text\" />\r\n              </div>\r\n            </div>\r\n            <button\r\n              className=\"btn waves-effect waves-light #ff1744 red accent-3\"\r\n              onClick={() => UpdatePost()}\r\n            >\r\n              Update Post\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\nconst Following = () => {\r\n  const [pics, setPics] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n\r\n  useEffect(() => {\r\n    const preload = () => {\r\n      fetch(`${API}/feed/${user._id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          setPics(result);\r\n        });\r\n    };\r\n    preload();\r\n  }, [user._id, token]);\r\n\r\n  const likePost = (id) => {\r\n    fetch(`${API}/like`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n        userId: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const unlikePost = (id) => {\r\n    fetch(`${API}/unlike`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n        userId: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deletePost = (postid) => {\r\n    fetch(`${API}/post/delete/${user._id}/${postid}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.filter((item) => {\r\n          return item._id !== result._id;\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const makeComment = (text, id) => {\r\n    fetch(`${API}/comment`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        text: text,\r\n        postId: id,\r\n        userName: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deleteComment = (cId, id) => {\r\n    fetch(`${API}/comment/delete`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        commentId: cId,\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      {!isAuthenticated() && <Redirect to=\"/signup\" />}\r\n      {isAuthenticated() &&\r\n        pics.map((item) => {\r\n          return (\r\n            <div key={item._id}>\r\n              <div className=\"card home-card\">\r\n                <span className=\"card-title\">\r\n                  <h5 style={{ padding: \"7px\" }}>\r\n                    <Link\r\n                      to={\r\n                        item.userId !== user._id\r\n                          ? `/profile/${item.userId}`\r\n                          : `/profile`\r\n                      }\r\n                    >\r\n                      {item.postedBy}\r\n                    </Link>\r\n                    {item.postedBy === user.name && (\r\n                      <i\r\n                        className=\"material-icons\"\r\n                        style={{ float: \"right\" }}\r\n                        onClick={() => {\r\n                          deletePost(item._id);\r\n                        }}\r\n                      >\r\n                        delete\r\n                      </i>\r\n                    )}\r\n                  </h5>\r\n                  {/* <h6 style={{ padding: \"10px\" }}>{item.createdAt}</h6> */}\r\n                </span>\r\n                <div className=\"card-image\">\r\n                  <img alt={item.title} src={item.photo} />\r\n                </div>\r\n                <div className=\"card-content\">\r\n                  {item.like.includes(user.name) ? (\r\n                    <i\r\n                      className=\"material-icons\"\r\n                      onClick={() => {\r\n                        unlikePost(item._id);\r\n                      }}\r\n                    >\r\n                      thumb_down\r\n                    </i>\r\n                  ) : (\r\n                    <i\r\n                      className=\"material-icons\"\r\n                      onClick={() => {\r\n                        likePost(item._id);\r\n                      }}\r\n                    >\r\n                      thumb_up\r\n                    </i>\r\n                  )}\r\n\r\n                  <h6>{item.like.length} Likes</h6>\r\n                  <h6>\r\n                    <b>Title : </b>\r\n                    {item.title}\r\n                  </h6>\r\n                  <h6>\r\n                    <b>Body :</b> {item.body}\r\n                  </h6>\r\n                  {item.comment.map((record) => {\r\n                    return (\r\n                      <h6 key={record._id}>\r\n                        <span style={{ fontWeight: \"500\" }}>\r\n                          <b>{record.postedBy} : </b>\r\n                        </span>\r\n                        {record.text}\r\n                        {record.postedBy === user.name && (\r\n                          <i\r\n                            className=\"material-icons\"\r\n                            style={{ float: \"right\" }}\r\n                            onClick={() => {\r\n                              deleteComment(record._id, item._id);\r\n                            }}\r\n                          >\r\n                            delete\r\n                          </i>\r\n                        )}\r\n                      </h6>\r\n                    );\r\n                  })}\r\n                  <form\r\n                    onSubmit={(e) => {\r\n                      e.preventDefault();\r\n                      makeComment(e.target[0].value, item._id);\r\n                    }}\r\n                  >\r\n                    <input type=\"text\" placeholder=\"add a comment\" />\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Following;\r\n","import React from \"react\";\r\nimport Home from \"./pages/Home\";\r\nimport Login from \"./pages/Login\";\r\nimport Signup from \"./pages/Signup\";\r\nimport Profile from \"./pages/Profile\";\r\nimport CreatePost from \"./pages/CreatePost\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport UserProfile from \"./pages/UserProfile\";\r\nimport Post from \"./pages/Mypost\";\r\nimport Following from \"./pages/FollowingPost\";\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/signup\" exact component={Signup} />\r\n        <Route path=\"/login\" exact component={Login} />\r\n        <Route path=\"/profile\" exact component={Profile} />\r\n        <Route path=\"/create\" exact component={CreatePost} />\r\n        <Route path=\"/profile/:userId\" exact component={UserProfile} />\r\n        <Route path=\"/editpost/:postId\" exact component={Post} />\r\n        <Route path=\"/following\" exact component={Following} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\nimport Routes from \"./Routes\";\nimport ReactDOM from \"react-dom\";\n\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\n"],"sourceRoot":""}
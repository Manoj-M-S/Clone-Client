{"version":3,"sources":["backend.js","helper/AuthHelper.js","core/Navbar.js","App.js","pages/Home.js","pages/Login.js","pages/Signup.js","helper/PostHelper.js","pages/Profile.js","pages/CreatePost.js","pages/UserProfile.js","pages/Mypost.js","pages/FollowingPost.js","Routes.js","index.js"],"names":["API","isAuthenticated","window","localStorage","getItem","JSON","parse","NavBar","history","useHistory","className","to","id","onClick","next","removeItem","fetch","method","then","response","console","log","catch","error","logout","push","App","children","Home","useState","pics","setPics","user","token","useEffect","headers","Authorization","res","json","result","length","map","item","key","_id","style","padding","userId","postedBy","name","float","postid","newData","filter","err","alt","title","src","photo","like","includes","body","stringify","postId","comment","record","fontWeight","text","cId","commentId","onSubmit","e","preventDefault","target","value","userName","type","placeholder","Login","email","setEmail","password","setPassword","onChange","Accept","data","M","toast","html","classes","setItem","setTimeout","Signup","setName","image","setImage","signup","files","FormData","append","url","uploadPic","Profile","mypics","userDetails","setDetails","dp","setDp","secure_url","updateProfilePic","profile","maxWidth","margin","display","justifyContent","borderBottom","width","height","borderRadius","file","followers","following","CreatePost","setTitle","setBody","PostDetails","CreateaPost","UserProfile","userProfile","setProfile","useParams","username","useremail","posts","unfollowId","followId","Post","Update","UpdatePost","Following","Routes","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.29060c35.chunk.js","sourcesContent":["export const API = \"https://pure-depths-98578.herokuapp.com\";\r\n","import { API } from \"../backend\";\r\n\r\n// export const login = (user) => {\r\n//   return fetch(`${API}/login`, {\r\n//     method: \"POST\",\r\n//     headers: {\r\n//       Accept: \"application/json\",\r\n//       \"Content-Type\": \"application/json\",\r\n//     },\r\n//     body: JSON.stringify(user),\r\n//   })\r\n//     .then((response) => {\r\n//       return response.json();\r\n//     })\r\n//     .then((data) => {\r\n//       if (!data.error) {\r\n//         localStorage.setItem(\"loggedIn\", JSON.stringify(data));\r\n//         M.toast({\r\n//           html: \"Login Successful\",\r\n//           classes: \"#43a047 green darken-1\",\r\n//         });\r\n//         setTimeout(() => {\r\n//           window.location.href = \"/\";\r\n//         }, 250);\r\n//       } else {\r\n//         M.toast({\r\n//           html: data.error,\r\n//           classes: \"#c62828 red darken-2\",\r\n//         });\r\n//       }\r\n//     })\r\n//     .catch((error) => console.log(error));\r\n// };\r\n\r\nexport const isAuthenticated = () => {\r\n  if (typeof window == \"undefined\") {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem(\"loggedIn\")) {\r\n    return JSON.parse(localStorage.getItem(\"loggedIn\"));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const logout = (next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"loggedIn\");\r\n    next();\r\n\r\n    return fetch(`${API}/logout`, {\r\n      method: \"GET\",\r\n    })\r\n      .then((response) => console.log(\"Signout Successs\"))\r\n\r\n      .catch((error) => console.log(error));\r\n  }\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { isAuthenticated, logout } from \"../helper/AuthHelper\";\r\nconst NavBar = () => {\r\n  const history = useHistory();\r\n  return (\r\n    <nav>\r\n      <div className=\"nav-wrapper white\">\r\n        {isAuthenticated() ? (\r\n          <Link to=\"/\" className=\"brand-logo left\">\r\n            Instagram\r\n          </Link>\r\n        ) : (\r\n          <div className=\"brand-logo left \">Instagram</div>\r\n        )}\r\n\r\n        <ul id=\"nav-mobile\" className=\"right\">\r\n          {!isAuthenticated() && (\r\n            <Fragment>\r\n              <li>\r\n                <Link to=\"/signup\" className=\"brand\">\r\n                  Signup\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/login\" className=\"brand\">\r\n                  Login\r\n                </Link>\r\n              </li>\r\n            </Fragment>\r\n          )}\r\n\r\n          {isAuthenticated() && (\r\n            <Fragment>\r\n              <li>\r\n                <Link to=\"/profile\" className=\"brand\">\r\n                  Profile\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/following\" className=\"brand\">\r\n                  Following Posts\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/create\" className=\"brand\">\r\n                  Create Post\r\n                </Link>\r\n              </li>\r\n\r\n              <li>\r\n                <button\r\n                  className=\"btn waves-effect waves-light #ff1744 red darken-1\"\r\n                  onClick={() => {\r\n                    logout(() => {\r\n                      history.push(\"/signup\");\r\n                    });\r\n                  }}\r\n                >\r\n                  logout\r\n                </button>\r\n              </li>\r\n            </Fragment>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\nimport NavBar from \"./core/Navbar\";\nimport \"./App.css\";\n\nconst App = ({ children }) => (\n  <div>\n    <NavBar />\n    <div className=\"container-fluid\">\n      <div>{children}</div>\n    </div>\n  </div>\n);\n\nexport default App;\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\nconst Home = () => {\r\n  const [pics, setPics] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n\r\n  useEffect(() => {\r\n    fetch(`${API}/posts`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setPics(result);\r\n      });\r\n  }, [token]);\r\n\r\n  const likePost = (id) => {\r\n    fetch(`${API}/like`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n        userId: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const unlikePost = (id) => {\r\n    fetch(`${API}/unlike`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n        userId: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deletePost = (postid) => {\r\n    fetch(`${API}/post/delete/${user._id}/${postid}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.filter((item) => {\r\n          return item._id !== result._id;\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const makeComment = (text, id) => {\r\n    fetch(`${API}/comment`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        text: text,\r\n        postId: id,\r\n        userName: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deleteComment = (cId, id) => {\r\n    fetch(`${API}/comment/delete`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        commentId: cId,\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      {isAuthenticated() ? (\r\n        pics.length > 0 ? (\r\n          pics.map((item) => {\r\n            return (\r\n              <div key={item._id}>\r\n                <div className=\"card home-card\">\r\n                  <span className=\"card-title\">\r\n                    <h5 style={{ padding: \"7px\" }}>\r\n                      <Link\r\n                        to={\r\n                          item.userId !== user._id\r\n                            ? `/profile/${item.userId}`\r\n                            : `/profile`\r\n                        }\r\n                      >\r\n                        {item.postedBy}\r\n                      </Link>\r\n                      {item.postedBy === user.name && (\r\n                        <i\r\n                          className=\"material-icons\"\r\n                          style={{ float: \"right\" }}\r\n                          onClick={() => {\r\n                            deletePost(item._id);\r\n                          }}\r\n                        >\r\n                          delete\r\n                        </i>\r\n                      )}\r\n                    </h5>\r\n                    {/* <h6 style={{ padding: \"10px\" }}>{item.createdAt}</h6> */}\r\n                  </span>\r\n                  <div className=\"card-image\">\r\n                    <img alt={item.title} src={item.photo} />\r\n                  </div>\r\n                  <div className=\"card-content\">\r\n                    {item.like.includes(user.name) ? (\r\n                      <i\r\n                        className=\"material-icons\"\r\n                        onClick={() => {\r\n                          unlikePost(item._id);\r\n                        }}\r\n                      >\r\n                        thumb_down\r\n                      </i>\r\n                    ) : (\r\n                      <i\r\n                        className=\"material-icons\"\r\n                        onClick={() => {\r\n                          likePost(item._id);\r\n                        }}\r\n                      >\r\n                        thumb_up\r\n                      </i>\r\n                    )}\r\n\r\n                    <h6>{item.like.length} Likes</h6>\r\n                    <h6>\r\n                      <b>Title : </b>\r\n                      {item.title}\r\n                    </h6>\r\n                    <h6>\r\n                      <b>Body :</b> {item.body}\r\n                    </h6>\r\n                    {item.comment.map((record) => {\r\n                      return (\r\n                        <h6 key={record._id}>\r\n                          <span style={{ fontWeight: \"500\" }}>\r\n                            <b>{record.postedBy} : </b>\r\n                          </span>\r\n                          {record.text}\r\n                          {record.postedBy === user.name && (\r\n                            <i\r\n                              className=\"material-icons\"\r\n                              style={{ float: \"right\" }}\r\n                              onClick={() => {\r\n                                deleteComment(record._id, item._id);\r\n                              }}\r\n                            >\r\n                              delete\r\n                            </i>\r\n                          )}\r\n                        </h6>\r\n                      );\r\n                    })}\r\n                    <form\r\n                      onSubmit={(e) => {\r\n                        e.preventDefault();\r\n                        makeComment(e.target[0].value, item._id);\r\n                      }}\r\n                    >\r\n                      <input type=\"text\" placeholder=\"add a comment\" />\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        ) : (\r\n          <h2>Loading!</h2>\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signup\" />\r\n      )}\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { API } from \"../backend\";\r\nimport M from \"materialize-css\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  const signupform = () => {\r\n    const login = (user) => {\r\n      return fetch(`${API}/login`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(user),\r\n      })\r\n        .then((response) => {\r\n          return response.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.error) {\r\n            localStorage.setItem(\"loggedIn\", JSON.stringify(data));\r\n            M.toast({\r\n              html: \"Login Successful\",\r\n              classes: \"#43a047 green darken-1\",\r\n            });\r\n            setTimeout(() => {\r\n              history.push(\"/\");\r\n            }, 250);\r\n          } else {\r\n            M.toast({\r\n              html: data.error,\r\n              classes: \"#c62828 red darken-2\",\r\n            });\r\n          }\r\n        })\r\n        .catch((error) => console.log(error));\r\n    };\r\n    return (\r\n      <div>\r\n        <div className=\"logincard\">\r\n          <div className=\"card auth-card input-field\">\r\n            <h2>Instagram</h2>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n            <button\r\n              className=\"btn waves-effect waves-light #ff1744 red accent-3\"\r\n              onClick={() => login({ email, password })}\r\n            >\r\n              Login\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  return <App>{signupform()}</App>;\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { API } from \"../backend\";\r\nimport M from \"materialize-css\";\r\n\r\nconst Signup = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  let photo = \"\";\r\n  const history = useHistory();\r\n\r\n  const signup = (user) => {\r\n    return fetch(`${API}/signup`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(user),\r\n    })\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        if (!data.error) {\r\n          M.toast({\r\n            html: \"Signup Successful\",\r\n            classes: \"#43a047 green darken-1\",\r\n          });\r\n          setTimeout(() => {\r\n            history.push(\"/\");\r\n          }, 250);\r\n        } else {\r\n          M.toast({\r\n            html: data.error,\r\n            classes: \"#c62828 red darken-2\",\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  const uploadPic = () => {\r\n    if (image) {\r\n      const data = new FormData();\r\n      data.append(\"file\", image);\r\n      data.append(\"upload_preset\", \"insta-clone\");\r\n      data.append(\"cloud_name\", \"makarasu\");\r\n      fetch(\"https://api.cloudinary.com/v1_1/makarasu/image/upload\", {\r\n        method: \"post\",\r\n        body: data,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          photo = data.url;\r\n        })\r\n        .then(() => signup({ name, email, password, photo }))\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      signup({ name, email, password });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      <div>\r\n        <div className=\"signupcard\">\r\n          <div className=\"card auth-card input-field\">\r\n            <h2>Instagram</h2>\r\n            <input\r\n              type=\"text\"\r\n              className=\"input-field\"\r\n              placeholder=\"Username\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"email\"\r\n              className=\"input-field\"\r\n              placeholder=\"Email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              className=\"input-field\"\r\n              placeholder=\"Password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n            <div className=\"file-field input\">\r\n              <div className=\" btn waves-effect waves-light #ff1744 red accent-3\">\r\n                <span>Upload DP</span>\r\n                <input\r\n                  type=\"file\"\r\n                  onChange={(e) => setImage(e.target.files[0])}\r\n                />\r\n              </div>\r\n              <div className=\"file-path-wrapper\">\r\n                <input className=\"file-path validate\" type=\"text\" />\r\n              </div>\r\n            </div>\r\n            <button\r\n              className=\"btn waves-effect waves-light #ff1744 red accent-3\"\r\n              onClick={() => uploadPic()}\r\n            >\r\n              Signup\r\n            </button>\r\n            <h6 className=\"text-lighten-3\">\r\n              Already have an account ?\r\n              <Link to=\"/login\" className=\"link\">\r\n                login\r\n              </Link>\r\n            </h6>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import M from \"materialize-css\";\r\nimport { API } from \"../backend\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nconst { user, token } = isAuthenticated();\r\n\r\nexport const CreateaPost = (\r\n  photo,\r\n  postedBy,\r\n  API,\r\n  user,\r\n  token,\r\n  title,\r\n  body,\r\n  userId\r\n) => {\r\n  fetch(`${API}/create/post/${user._id}`, {\r\n    method: \"post\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({\r\n      title,\r\n      body,\r\n      photo,\r\n      postedBy,\r\n      userId,\r\n    }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      if (!data.error) {\r\n        M.toast({\r\n          html: \"Post Created Successful\",\r\n          classes: \"#43a047 green darken-1\",\r\n        });\r\n      } else {\r\n        M.toast({\r\n          html: data.error,\r\n          classes: \"#c62828 red darken-2\",\r\n        });\r\n      }\r\n    })\r\n    .catch((error) => console.log(error));\r\n};\r\n\r\nexport const updateProfilePic = (photo) => {\r\n  fetch(`${API}/profile/pic/${user._id}`, {\r\n    method: \"put\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({\r\n      photo: photo,\r\n    }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\n// export const Update = (title, body, photo, token, postId) => {\r\n//   fetch(`${API}/post/update/${postId}`, {\r\n//     method: \"put\",\r\n//     headers: {\r\n//       \"Content-Type\": \"application/json\",\r\n//       Authorization: `Bearer ${token}`,\r\n//     },\r\n//     body: JSON.stringify({\r\n//       photo: photo,\r\n//       title: title,\r\n//       body: body,\r\n//       postId: postId,\r\n//     }),\r\n//   })\r\n//     .then((res) => res.json())\r\n//     .then((data) => {\r\n//       if (!data.error) {\r\n//         M.toast({\r\n//           html: \"Post Updated Successful\",\r\n//           classes: \"#43a047 green darken-1\",\r\n//         });\r\n//         setTimeout(() => {\r\n//           window.location.href = `/editpost/${postId}`;\r\n//         }, 2000);\r\n//       } else {\r\n//         M.toast({\r\n//           html: data.error,\r\n//           classes: \"#c62828 red darken-2\",\r\n//         });\r\n//       }\r\n//     })\r\n//     .catch((err) => {\r\n//       console.log(err);\r\n//     });\r\n// };\r\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { updateProfilePic } from \"../helper/PostHelper\";\r\nimport { API } from \"../backend\";\r\nimport M from \"materialize-css\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\nconst Profile = () => {\r\n  const [mypics, setPics] = useState([]);\r\n  const [userDetails, setDetails] = useState([]);\r\n  const [dp, setDp] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n  const [image, setImage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let photo = \"\";\r\n    if (image) {\r\n      const data = new FormData();\r\n      data.append(\"file\", image);\r\n      data.append(\"upload_preset\", \"insta-clone\");\r\n      data.append(\"cloud_name\", \"makarasu\");\r\n      fetch(\"https://api.cloudinary.com/v1_1/makarasu/image/upload\", {\r\n        method: \"post\",\r\n        body: data,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          photo = data.secure_url;\r\n          setDp(data.secure_url);\r\n          M.toast({\r\n            html: \"Picture Updated Successfully\",\r\n            classes: \"#43a047 green darken-1\",\r\n          });\r\n        })\r\n        .then(() => updateProfilePic(photo))\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [image]);\r\n\r\n  const updatePic = (file) => {\r\n    setImage(file);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user._id) {\r\n      fetch(`${API}/myposts/${user._id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          setPics(result);\r\n        })\r\n        .then(\r\n          fetch(`${API}/profile/${user._id}`)\r\n            .then((res) => res.json())\r\n            .then((result) => {\r\n              setDetails(result);\r\n              setDp(result.profile);\r\n            })\r\n        );\r\n    } else {\r\n      return <Redirect to=\"/signup\" />;\r\n    }\r\n  }, [user._id, token]);\r\n\r\n  const deletePost = (postid) => {\r\n    fetch(`${API}/post/delete/${user._id}/${postid}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = mypics.filter((item) => {\r\n          return item._id !== result._id;\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      {isAuthenticated() ? (\r\n        userDetails.profile && dp.length > 0 ? (\r\n          <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-around\",\r\n                margin: \"18px 0px\",\r\n                borderBottom: \"1px solid grey\",\r\n              }}\r\n            >\r\n              <div>\r\n                <object\r\n                  data={dp}\r\n                  style={{\r\n                    width: \"160px\",\r\n                    height: \"160px\",\r\n                    borderRadius: \"80px\",\r\n                  }}\r\n                >\r\n                  <img\r\n                    style={{\r\n                      width: \"160px\",\r\n                      height: \"160px\",\r\n                      borderRadius: \"80px\",\r\n                    }}\r\n                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png\"\r\n                    alt=\"\"\r\n                  />\r\n                </object>\r\n                <div className=\"file-field input\">\r\n                  <div className=\" btn waves-effect waves-light #ff1744 red accent-3\">\r\n                    <span>Update DP</span>\r\n                    <input\r\n                      type=\"file\"\r\n                      onChange={(e) => updatePic(e.target.files[0])}\r\n                    />\r\n                  </div>\r\n                  <div className=\"file-path-wrapper\">\r\n                    <input className=\"file-path validate\" type=\"text\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <h4>{user.name}</h4>\r\n                <h5>{user.email}</h5>\r\n\r\n                <div\r\n                  style={{\r\n                    display: \"Flex\",\r\n                    justifyContent: \"space-between\",\r\n                    width: \"108%\",\r\n                  }}\r\n                >\r\n                  <h6>{mypics.length} Post</h6>\r\n                  <h6>{userDetails.followers.length} Followers</h6>\r\n                  <h6>{userDetails.following.length} Following</h6>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"gallery\">\r\n              {mypics.map((item) => {\r\n                return (\r\n                  <div key={item._id}>\r\n                    <div className=\"card profile-card\">\r\n                      <div className=\"card-content\">\r\n                        <div className=\"card-image\">\r\n                          <img\r\n                            key={item._id}\r\n                            className=\"item\"\r\n                            alt={item.title}\r\n                            src={item.photo}\r\n                          />\r\n                        </div>\r\n                        <i\r\n                          className=\"material-icons\"\r\n                          style={{ float: \"right\" }}\r\n                          onClick={() => {\r\n                            deletePost(item._id);\r\n                          }}\r\n                        >\r\n                          delete\r\n                        </i>\r\n                        <i className=\"material-icons\" style={{ float: \"left\" }}>\r\n                          <Link to={`/editpost/${item._id}/`}>create </Link>\r\n                        </i>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <h2>Loading!</h2>\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signup\" />\r\n      )}\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport { CreateaPost } from \"../helper/PostHelper\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst CreatePost = () => {\r\n  const history = useHistory();\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const postedBy = user.name;\r\n  const userId = user._id;\r\n  let photo = \"\";\r\n\r\n  const PostDetails = () => {\r\n    const data = new FormData();\r\n    data.append(\"file\", image);\r\n    data.append(\"upload_preset\", \"insta-clone\");\r\n    data.append(\"cloud_name\", \"makarasu\");\r\n    fetch(\"https://api.cloudinary.com/v1_1/makarasu/image/upload\", {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        photo = data.secure_url;\r\n      })\r\n      .then(() =>\r\n        CreateaPost(photo, postedBy, API, user, token, title, body, userId)\r\n      )\r\n      .then(() =>\r\n        setTimeout(() => {\r\n          history.push(\"/profile\");\r\n        }, 2500)\r\n      )\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      <div className=\"card field\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Title\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Body\"\r\n          value={body}\r\n          onChange={(e) => setBody(e.target.value)}\r\n        />\r\n        <div className=\"file-field input\">\r\n          <div className=\" btn waves-effect waves-light #ff1744 red accent-3\">\r\n            <span>Upload Image</span>\r\n            <input type=\"file\" onChange={(e) => setImage(e.target.files[0])} />\r\n          </div>\r\n          <div className=\"file-path-wrapper\">\r\n            <input className=\"file-path validate\" type=\"text\" />\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"btn waves-effect waves-light #ff1744 red accent-3\"\r\n          onClick={() => PostDetails()}\r\n        >\r\n          Submit Post\r\n        </button>\r\n      </div>\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport { useParams, Redirect, useHistory } from \"react-router-dom\";\r\nimport M from \"materialize-css\";\r\n\r\nconst UserProfile = () => {\r\n  const [userProfile, setProfile] = useState([]);\r\n  const history = useHistory();\r\n  const { user, token } = isAuthenticated();\r\n  const { userId } = useParams();\r\n\r\n  useEffect(() => {\r\n    if (user._id) {\r\n      fetch(`${API}/profile/${userId}`)\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          setProfile(result);\r\n        });\r\n    } else {\r\n      return <Redirect to=\"/signup\" />;\r\n    }\r\n  }, [user._id, userId]);\r\n\r\n  const followUser = () => {\r\n    fetch(`${API}/follow`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        username: userProfile.username,\r\n        followId: userId,\r\n        name: user.name,\r\n        id: user._id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then(() => {\r\n        M.toast({\r\n          html: `You are following ${userProfile.username}`,\r\n          classes: \"#43a047 green darken-1\",\r\n        });\r\n        setTimeout(() => {\r\n          history.push(\"/following\");\r\n        }, 1000);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const unfollowUser = () => {\r\n    fetch(`${API}/unfollow`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        username: userProfile.username,\r\n        unfollowId: userId,\r\n        name: user.name,\r\n        id: user._id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then(() => {\r\n        M.toast({\r\n          html: `You unfollowed ${userProfile.username}`,\r\n          classes: \"#43a047 green darken-1\",\r\n        });\r\n        setTimeout(() => {\r\n          history.push(\"/following\");\r\n        }, 1000);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      <>\r\n        {isAuthenticated() ? (\r\n          userProfile.profile ? (\r\n            <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-around\",\r\n                  margin: \"18px 0px\",\r\n                  borderBottom: \"1px solid grey\",\r\n                }}\r\n              >\r\n                <div>\r\n                  <object\r\n                    data={userProfile.profile}\r\n                    style={{\r\n                      width: \"160px\",\r\n                      height: \"160px\",\r\n                      borderRadius: \"80px\",\r\n                    }}\r\n                  >\r\n                    <img\r\n                      style={{\r\n                        width: \"160px\",\r\n                        height: \"160px\",\r\n                        borderRadius: \"80px\",\r\n                      }}\r\n                      src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png\"\r\n                      alt=\"\"\r\n                    />\r\n                  </object>\r\n                </div>\r\n                <div>\r\n                  <h4>{userProfile.username}</h4>\r\n                  <h5>{userProfile.useremail}</h5>\r\n                  <div\r\n                    style={{\r\n                      display: \"Flex\",\r\n                      justifyContent: \"space-between\",\r\n                      width: \"108%\",\r\n                    }}\r\n                  >\r\n                    <h6>{userProfile.posts.length} posts</h6>\r\n                    <h6>{userProfile.followers.length} Followers</h6>\r\n                    <h6>{userProfile.following.length} Following</h6>\r\n                  </div>\r\n                  <div style={{ padding: \"10px 0px \" }}>\r\n                    {userProfile.followers.includes(user.name) ? (\r\n                      <button\r\n                        className=\"btn waves-effect waves-light #ff1744 blue accent-3\"\r\n                        onClick={() => unfollowUser()}\r\n                      >\r\n                        Unfollow\r\n                      </button>\r\n                    ) : (\r\n                      <button\r\n                        className=\"btn waves-effect waves-light #ff1744 blue accent-3\"\r\n                        onClick={() => followUser()}\r\n                      >\r\n                        Follow\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"gallery\">\r\n                {userProfile.posts.map((item) => {\r\n                  return (\r\n                    <img\r\n                      key={item._id}\r\n                      className=\"item\"\r\n                      alt={item.title}\r\n                      src={item.photo}\r\n                    />\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <h2>Loading!</h2>\r\n          )\r\n        ) : (\r\n          <Redirect to=\"/signup\" />\r\n        )}\r\n      </>\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport M from \"materialize-css\";\r\n\r\nimport { Redirect, useParams, useHistory } from \"react-router-dom\";\r\nconst Post = () => {\r\n  const [pics, setPics] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n  const { postId } = useParams();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    fetch(`${API}/post/${postId}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setPics(result);\r\n        setTitle(result.title);\r\n        setBody(result.body);\r\n        setImage(result.photo);\r\n      });\r\n  }, [postId, token]);\r\n\r\n  let photo = \"\";\r\n  const UpdatePost = () => {\r\n    const data = new FormData();\r\n    data.append(\"file\", image);\r\n    data.append(\"upload_preset\", \"insta-clone\");\r\n    data.append(\"cloud_name\", \"makarasu\");\r\n    fetch(\"https://api.cloudinary.com/v1_1/makarasu/image/upload\", {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        photo = data.secure_url;\r\n      })\r\n      .then(() => Update(title, body, photo, token, postId))\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const Update = (title, body, photo, token, postId) => {\r\n    fetch(`${API}/post/update/${postId}`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        photo: photo,\r\n        title: title,\r\n        body: body,\r\n        postId: postId,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.error) {\r\n          M.toast({\r\n            html: \"Post Updated Successful\",\r\n            classes: \"#43a047 green darken-1\",\r\n          });\r\n          setTimeout(() => {\r\n            history.push(`/profile`);\r\n          }, 1000);\r\n        } else {\r\n          M.toast({\r\n            html: data.error,\r\n            classes: \"#c62828 red darken-2\",\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  return (\r\n    <App>\r\n      {isAuthenticated() ? (\r\n        user.name === pics.postedBy ? (\r\n          <div className=\"card home-card\">\r\n            <h5 style={{ padding: \"7px\" }}>Edit Post</h5>\r\n            <div className=\"card-image\">\r\n              <img alt={pics.title} src={pics.photo} />\r\n            </div>\r\n            <div className=\"card-content\">\r\n              <h5>\r\n                <b>Title : </b>\r\n                {pics.title}\r\n              </h5>\r\n              <h5>\r\n                <b>Body :</b> {pics.body}\r\n              </h5>\r\n            </div>\r\n            <div className=\"card field\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Title\"\r\n                value={title}\r\n                onChange={(e) => setTitle(e.target.value)}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Body\"\r\n                value={body}\r\n                onChange={(e) => setBody(e.target.value)}\r\n              />\r\n              <div className=\"file-field input\">\r\n                <div className=\" btn waves-effect waves-light #ff1744 red accent-3\">\r\n                  <span>Upload Image</span>\r\n                  <input\r\n                    type=\"file\"\r\n                    onChange={(e) => setImage(e.target.files[0])}\r\n                  />\r\n                </div>\r\n                <div className=\"file-path-wrapper\">\r\n                  <input className=\"file-path validate\" type=\"text\" />\r\n                </div>\r\n              </div>\r\n              <button\r\n                className=\"btn waves-effect waves-light #ff1744 red accent-3\"\r\n                onClick={() => UpdatePost()}\r\n              >\r\n                Update Post\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <h2>Loading!</h2>\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signup\" />\r\n      )}\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\nconst Following = () => {\r\n  const [pics, setPics] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n\r\n  useEffect(() => {\r\n    if (user._id) {\r\n      fetch(`${API}/feed/${user._id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          setPics(result);\r\n        });\r\n    } else {\r\n      return <Redirect to=\"/signup\" />;\r\n    }\r\n  }, [user._id, token]);\r\n\r\n  const likePost = (id) => {\r\n    fetch(`${API}/like`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n        userId: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const unlikePost = (id) => {\r\n    fetch(`${API}/unlike`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n        userId: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deletePost = (postid) => {\r\n    fetch(`${API}/post/delete/${user._id}/${postid}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.filter((item) => {\r\n          return item._id !== result._id;\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const makeComment = (text, id) => {\r\n    fetch(`${API}/comment`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        text: text,\r\n        postId: id,\r\n        userName: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deleteComment = (cId, id) => {\r\n    fetch(`${API}/comment/delete`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        commentId: cId,\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      {isAuthenticated() ? (\r\n        pics.length > 0 ? (\r\n          pics.map((item) => {\r\n            return (\r\n              <div key={item._id}>\r\n                <div className=\"card home-card\">\r\n                  <span className=\"card-title\">\r\n                    <h5 style={{ padding: \"7px\" }}>\r\n                      <Link\r\n                        to={\r\n                          item.userId !== user._id\r\n                            ? `/profile/${item.userId}`\r\n                            : `/profile`\r\n                        }\r\n                      >\r\n                        {item.postedBy}\r\n                      </Link>\r\n                      {item.postedBy === user.name && (\r\n                        <i\r\n                          className=\"material-icons\"\r\n                          style={{ float: \"right\" }}\r\n                          onClick={() => {\r\n                            deletePost(item._id);\r\n                          }}\r\n                        >\r\n                          delete\r\n                        </i>\r\n                      )}\r\n                    </h5>\r\n                    {/* <h6 style={{ padding: \"10px\" }}>{item.createdAt}</h6> */}\r\n                  </span>\r\n                  <div className=\"card-image\">\r\n                    <img alt={item.title} src={item.photo} />\r\n                  </div>\r\n                  <div className=\"card-content\">\r\n                    {item.like.includes(user.name) ? (\r\n                      <i\r\n                        className=\"material-icons\"\r\n                        onClick={() => {\r\n                          unlikePost(item._id);\r\n                        }}\r\n                      >\r\n                        thumb_down\r\n                      </i>\r\n                    ) : (\r\n                      <i\r\n                        className=\"material-icons\"\r\n                        onClick={() => {\r\n                          likePost(item._id);\r\n                        }}\r\n                      >\r\n                        thumb_up\r\n                      </i>\r\n                    )}\r\n\r\n                    <h6>{item.like.length} Likes</h6>\r\n                    <h6>\r\n                      <b>Title : </b>\r\n                      {item.title}\r\n                    </h6>\r\n                    <h6>\r\n                      <b>Body :</b> {item.body}\r\n                    </h6>\r\n                    {item.comment.map((record) => {\r\n                      return (\r\n                        <h6 key={record._id}>\r\n                          <span style={{ fontWeight: \"500\" }}>\r\n                            <b>{record.postedBy} : </b>\r\n                          </span>\r\n                          {record.text}\r\n                          {record.postedBy === user.name && (\r\n                            <i\r\n                              className=\"material-icons\"\r\n                              style={{ float: \"right\" }}\r\n                              onClick={() => {\r\n                                deleteComment(record._id, item._id);\r\n                              }}\r\n                            >\r\n                              delete\r\n                            </i>\r\n                          )}\r\n                        </h6>\r\n                      );\r\n                    })}\r\n                    <form\r\n                      onSubmit={(e) => {\r\n                        e.preventDefault();\r\n                        makeComment(e.target[0].value, item._id);\r\n                      }}\r\n                    >\r\n                      <input type=\"text\" placeholder=\"add a comment\" />\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        ) : (\r\n          <h2>Loading!</h2>\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signup\" />\r\n      )}\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Following;\r\n","import React from \"react\";\r\nimport Home from \"./pages/Home\";\r\nimport Login from \"./pages/Login\";\r\nimport Signup from \"./pages/Signup\";\r\nimport Profile from \"./pages/Profile\";\r\nimport CreatePost from \"./pages/CreatePost\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport UserProfile from \"./pages/UserProfile\";\r\nimport Post from \"./pages/Mypost\";\r\nimport Following from \"./pages/FollowingPost\";\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/signup\" exact component={Signup} />\r\n        <Route path=\"/login\" exact component={Login} />\r\n        <Route path=\"/profile\" exact component={Profile} />\r\n        <Route path=\"/create\" exact component={CreatePost} />\r\n        <Route path=\"/profile/:userId\" exact component={UserProfile} />\r\n        <Route path=\"/editpost/:postId\" exact component={Post} />\r\n        <Route path=\"/following\" exact component={Following} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\nimport Routes from \"./Routes\";\nimport ReactDOM from \"react-dom\";\n\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\n"],"sourceRoot":""}
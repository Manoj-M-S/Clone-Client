{"version":3,"sources":["backend.js","helper/AuthHelper.js","core/Navbar.js","App.js","pages/Home.js","pages/Login.js","pages/Signup.js","helper/PostHelper.js","pages/Profile.js","pages/CreatePost.js","pages/UserProfile.js","pages/Mypost.js","pages/FollowingPost.js","Routes.js","index.js"],"names":["API","signup","user","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","data","error","M","toast","html","classes","setTimeout","window","location","href","catch","console","log","isAuthenticated","localStorage","getItem","parse","NavBar","history","useHistory","className","to","id","onClick","next","removeItem","logout","push","App","children","Home","useState","pics","setPics","token","useEffect","preload","Authorization","res","result","length","map","item","key","_id","style","padding","userId","postedBy","name","float","postid","newData","filter","err","alt","title","src","photo","like","includes","postId","comment","record","fontWeight","text","cId","commentId","onSubmit","e","preventDefault","target","value","userName","type","placeholder","Login","email","setEmail","password","setPassword","onChange","setItem","Signup","setName","image","setImage","files","FormData","append","url","uploadPic","Profile","mypics","userDetails","setDetails","dp","setDp","secure_url","updateProfilePic","profile","maxWidth","margin","display","justifyContent","borderBottom","width","height","borderRadius","file","followers","following","CreatePost","setTitle","setBody","PostDetails","CreateaPost","UserProfile","userProfile","setProfile","useParams","username","useremail","posts","unfollowId","reload","followId","Post","Update","UpdatePost","Following","Routes","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.41ee5564.chunk.js","sourcesContent":["export const API = \"https://pure-depths-98578.herokuapp.com\";\r\n","import { API } from \"../backend\";\r\nimport M from \"materialize-css\";\r\n\r\nexport const signup = (user) => {\r\n  return fetch(`${API}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      if (!data.error) {\r\n        M.toast({\r\n          html: \"Signup Successful\",\r\n          classes: \"#43a047 green darken-1\",\r\n        });\r\n        setTimeout(() => {\r\n          window.location.href = \"/login\";\r\n        }, 2000);\r\n      } else {\r\n        M.toast({\r\n          html: data.error,\r\n          classes: \"#c62828 red darken-2\",\r\n        });\r\n      }\r\n    })\r\n    .catch((error) => console.log(error));\r\n};\r\n\r\n// export const login = (user) => {\r\n//   return fetch(`${API}/login`, {\r\n//     method: \"POST\",\r\n//     headers: {\r\n//       Accept: \"application/json\",\r\n//       \"Content-Type\": \"application/json\",\r\n//     },\r\n//     body: JSON.stringify(user),\r\n//   })\r\n//     .then((response) => {\r\n//       return response.json();\r\n//     })\r\n//     .then((data) => {\r\n//       if (!data.error) {\r\n//         localStorage.setItem(\"loggedIn\", JSON.stringify(data));\r\n//         M.toast({\r\n//           html: \"Login Successful\",\r\n//           classes: \"#43a047 green darken-1\",\r\n//         });\r\n//         setTimeout(() => {\r\n//           window.location.href = \"/\";\r\n//         }, 250);\r\n//       } else {\r\n//         M.toast({\r\n//           html: data.error,\r\n//           classes: \"#c62828 red darken-2\",\r\n//         });\r\n//       }\r\n//     })\r\n//     .catch((error) => console.log(error));\r\n// };\r\n\r\nexport const isAuthenticated = () => {\r\n  if (typeof window == \"undefined\") {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem(\"loggedIn\")) {\r\n    return JSON.parse(localStorage.getItem(\"loggedIn\"));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const logout = (next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"loggedIn\");\r\n    next();\r\n\r\n    return fetch(`${API}/logout`, {\r\n      method: \"GET\",\r\n    })\r\n      .then((response) => console.log(\"Signout Successs\"))\r\n\r\n      .catch((error) => console.log(error));\r\n  }\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { isAuthenticated, logout } from \"../helper/AuthHelper\";\r\nconst NavBar = () => {\r\n  const history = useHistory();\r\n  return (\r\n    <nav>\r\n      <div className=\"nav-wrapper white\">\r\n        {isAuthenticated() ? (\r\n          <Link to=\"/\" className=\"brand-logo left\">\r\n            Instagram\r\n          </Link>\r\n        ) : (\r\n          <div className=\"brand-logo left \">Instagram</div>\r\n        )}\r\n\r\n        <ul id=\"nav-mobile\" className=\"right\">\r\n          {!isAuthenticated() && (\r\n            <Fragment>\r\n              <li>\r\n                <Link to=\"/signup\" className=\"brand\">\r\n                  Signup\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/login\" className=\"brand\">\r\n                  Login\r\n                </Link>\r\n              </li>\r\n            </Fragment>\r\n          )}\r\n\r\n          {isAuthenticated() && (\r\n            <Fragment>\r\n              <li>\r\n                <Link to=\"/profile\" className=\"brand\">\r\n                  Profile\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/following\" className=\"brand\">\r\n                  Following Posts\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/create\" className=\"brand\">\r\n                  Create Post\r\n                </Link>\r\n              </li>\r\n\r\n              <li>\r\n                <button\r\n                  className=\"btn waves-effect waves-light #ff1744 red darken-1\"\r\n                  onClick={() => {\r\n                    logout(() => {\r\n                      history.push(\"/signup\");\r\n                    });\r\n                  }}\r\n                >\r\n                  logout\r\n                </button>\r\n              </li>\r\n            </Fragment>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\nimport NavBar from \"./core/Navbar\";\nimport \"./App.css\";\n\nconst App = ({ children }) => (\n  <div>\n    <NavBar />\n    <div className=\"container-fluid\">\n      <div>{children}</div>\n    </div>\n  </div>\n);\n\nexport default App;\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\nconst Home = () => {\r\n  const [pics, setPics] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n  const preload = () => {\r\n    fetch(`${API}/posts`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setPics(result);\r\n      });\r\n  };\r\n  const likePost = (id) => {\r\n    fetch(`${API}/like`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n        userId: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const unlikePost = (id) => {\r\n    fetch(`${API}/unlike`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n        userId: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deletePost = (postid) => {\r\n    fetch(`${API}/post/delete/${user._id}/${postid}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.filter((item) => {\r\n          return item._id !== result._id;\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const makeComment = (text, id) => {\r\n    fetch(`${API}/comment`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        text: text,\r\n        postId: id,\r\n        userName: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deleteComment = (cId, id) => {\r\n    fetch(`${API}/comment/delete`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        commentId: cId,\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      {isAuthenticated() ? (\r\n        pics.length > 0 ? (\r\n          pics.map((item) => {\r\n            return (\r\n              <div key={item._id}>\r\n                <div className=\"card home-card\">\r\n                  <span className=\"card-title\">\r\n                    <h5 style={{ padding: \"7px\" }}>\r\n                      <Link\r\n                        to={\r\n                          item.userId !== user._id\r\n                            ? `/profile/${item.userId}`\r\n                            : `/profile`\r\n                        }\r\n                      >\r\n                        {item.postedBy}\r\n                      </Link>\r\n                      {item.postedBy === user.name && (\r\n                        <i\r\n                          className=\"material-icons\"\r\n                          style={{ float: \"right\" }}\r\n                          onClick={() => {\r\n                            deletePost(item._id);\r\n                          }}\r\n                        >\r\n                          delete\r\n                        </i>\r\n                      )}\r\n                    </h5>\r\n                    {/* <h6 style={{ padding: \"10px\" }}>{item.createdAt}</h6> */}\r\n                  </span>\r\n                  <div className=\"card-image\">\r\n                    <img alt={item.title} src={item.photo} />\r\n                  </div>\r\n                  <div className=\"card-content\">\r\n                    {item.like.includes(user.name) ? (\r\n                      <i\r\n                        className=\"material-icons\"\r\n                        onClick={() => {\r\n                          unlikePost(item._id);\r\n                        }}\r\n                      >\r\n                        thumb_down\r\n                      </i>\r\n                    ) : (\r\n                      <i\r\n                        className=\"material-icons\"\r\n                        onClick={() => {\r\n                          likePost(item._id);\r\n                        }}\r\n                      >\r\n                        thumb_up\r\n                      </i>\r\n                    )}\r\n\r\n                    <h6>{item.like.length} Likes</h6>\r\n                    <h6>\r\n                      <b>Title : </b>\r\n                      {item.title}\r\n                    </h6>\r\n                    <h6>\r\n                      <b>Body :</b> {item.body}\r\n                    </h6>\r\n                    {item.comment.map((record) => {\r\n                      return (\r\n                        <h6 key={record._id}>\r\n                          <span style={{ fontWeight: \"500\" }}>\r\n                            <b>{record.postedBy} : </b>\r\n                          </span>\r\n                          {record.text}\r\n                          {record.postedBy === user.name && (\r\n                            <i\r\n                              className=\"material-icons\"\r\n                              style={{ float: \"right\" }}\r\n                              onClick={() => {\r\n                                deleteComment(record._id, item._id);\r\n                              }}\r\n                            >\r\n                              delete\r\n                            </i>\r\n                          )}\r\n                        </h6>\r\n                      );\r\n                    })}\r\n                    <form\r\n                      onSubmit={(e) => {\r\n                        e.preventDefault();\r\n                        makeComment(e.target[0].value, item._id);\r\n                      }}\r\n                    >\r\n                      <input type=\"text\" placeholder=\"add a comment\" />\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        ) : (\r\n          <h2>Loading!</h2>\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signup\" />\r\n      )}\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { API } from \"../backend\";\r\nimport M from \"materialize-css\";\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const signupform = () => {\r\n    const login = (user) => {\r\n      return fetch(`${API}/login`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(user),\r\n      })\r\n        .then((response) => {\r\n          return response.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.error) {\r\n            localStorage.setItem(\"loggedIn\", JSON.stringify(data));\r\n            M.toast({\r\n              html: \"Login Successful\",\r\n              classes: \"#43a047 green darken-1\",\r\n            });\r\n            setTimeout(() => {\r\n              window.location.href = \"/\";\r\n            }, 250);\r\n          } else {\r\n            M.toast({\r\n              html: data.error,\r\n              classes: \"#c62828 red darken-2\",\r\n            });\r\n          }\r\n        })\r\n        .catch((error) => console.log(error));\r\n    };\r\n    return (\r\n      <div>\r\n        <div className=\"logincard\">\r\n          <div className=\"card auth-card input-field\">\r\n            <h2>Instagram</h2>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n            <button\r\n              className=\"btn waves-effect waves-light #ff1744 red accent-3\"\r\n              onClick={() => login({ email, password })}\r\n            >\r\n              Login\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  return <App>{signupform()}</App>;\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signup } from \"../helper/AuthHelper\";\r\n\r\nconst Signup = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  let photo = \"\";\r\n\r\n  const uploadPic = () => {\r\n    if (image) {\r\n      const data = new FormData();\r\n      data.append(\"file\", image);\r\n      data.append(\"upload_preset\", \"insta-clone\");\r\n      data.append(\"cloud_name\", \"makarasu\");\r\n      fetch(\"https://api.cloudinary.com/v1_1/makarasu/image/upload\", {\r\n        method: \"post\",\r\n        body: data,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          photo = data.url;\r\n        })\r\n        .then(() => signup({ name, email, password, photo }))\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      signup({ name, email, password });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      <div>\r\n        <div className=\"signupcard\">\r\n          <div className=\"card auth-card input-field\">\r\n            <h2>Instagram</h2>\r\n            <input\r\n              type=\"text\"\r\n              className=\"input-field\"\r\n              placeholder=\"Username\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"email\"\r\n              className=\"input-field\"\r\n              placeholder=\"Email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              className=\"input-field\"\r\n              placeholder=\"Password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n            <div className=\"file-field input\">\r\n              <div className=\" btn waves-effect waves-light #ff1744 red accent-3\">\r\n                <span>Upload DP</span>\r\n                <input\r\n                  type=\"file\"\r\n                  onChange={(e) => setImage(e.target.files[0])}\r\n                />\r\n              </div>\r\n              <div className=\"file-path-wrapper\">\r\n                <input className=\"file-path validate\" type=\"text\" />\r\n              </div>\r\n            </div>\r\n            <button\r\n              className=\"btn waves-effect waves-light #ff1744 red accent-3\"\r\n              onClick={() => uploadPic()}\r\n            >\r\n              Signup\r\n            </button>\r\n            <h6 className=\"text-lighten-3\">\r\n              Already have an account ?\r\n              <Link to=\"/login\" className=\"link\">\r\n                login\r\n              </Link>\r\n            </h6>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import M from \"materialize-css\";\r\nimport { API } from \"../backend\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nconst { user, token } = isAuthenticated();\r\n\r\nexport const CreateaPost = (\r\n  photo,\r\n  postedBy,\r\n  API,\r\n  user,\r\n  token,\r\n  title,\r\n  body,\r\n  userId\r\n) => {\r\n  fetch(`${API}/create/post/${user._id}`, {\r\n    method: \"post\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({\r\n      title,\r\n      body,\r\n      photo,\r\n      postedBy,\r\n      userId,\r\n    }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      if (!data.error) {\r\n        M.toast({\r\n          html: \"Post Created Successful\",\r\n          classes: \"#43a047 green darken-1\",\r\n        });\r\n        setTimeout(() => {\r\n          window.location.href = \"/\";\r\n        }, 2000);\r\n      } else {\r\n        M.toast({\r\n          html: data.error,\r\n          classes: \"#c62828 red darken-2\",\r\n        });\r\n      }\r\n    })\r\n    .catch((error) => console.log(error));\r\n};\r\n\r\nexport const updateProfilePic = (photo) => {\r\n  fetch(`${API}/profile/pic/${user}`, {\r\n    method: \"put\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({\r\n      photo: photo,\r\n    }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\n// export const Update = (title, body, photo, token, postId) => {\r\n//   fetch(`${API}/post/update/${postId}`, {\r\n//     method: \"put\",\r\n//     headers: {\r\n//       \"Content-Type\": \"application/json\",\r\n//       Authorization: `Bearer ${token}`,\r\n//     },\r\n//     body: JSON.stringify({\r\n//       photo: photo,\r\n//       title: title,\r\n//       body: body,\r\n//       postId: postId,\r\n//     }),\r\n//   })\r\n//     .then((res) => res.json())\r\n//     .then((data) => {\r\n//       if (!data.error) {\r\n//         M.toast({\r\n//           html: \"Post Updated Successful\",\r\n//           classes: \"#43a047 green darken-1\",\r\n//         });\r\n//         setTimeout(() => {\r\n//           window.location.href = `/editpost/${postId}`;\r\n//         }, 2000);\r\n//       } else {\r\n//         M.toast({\r\n//           html: data.error,\r\n//           classes: \"#c62828 red darken-2\",\r\n//         });\r\n//       }\r\n//     })\r\n//     .catch((err) => {\r\n//       console.log(err);\r\n//     });\r\n// };\r\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { updateProfilePic } from \"../helper/PostHelper\";\r\nimport { API } from \"../backend\";\r\nimport M from \"materialize-css\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\nconst Profile = () => {\r\n  const [mypics, setPics] = useState([]);\r\n  const [userDetails, setDetails] = useState([]);\r\n  const [dp, setDp] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n  const [image, setImage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let photo = \"\";\r\n    if (image) {\r\n      const data = new FormData();\r\n      data.append(\"file\", image);\r\n      data.append(\"upload_preset\", \"insta-clone\");\r\n      data.append(\"cloud_name\", \"makarasu\");\r\n      fetch(\"https://api.cloudinary.com/v1_1/makarasu/image/upload\", {\r\n        method: \"post\",\r\n        body: data,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          photo = data.secure_url;\r\n          setDp(data.secure_url);\r\n          M.toast({\r\n            html: \"Picture Updated Successfully\",\r\n            classes: \"#43a047 green darken-1\",\r\n          });\r\n        })\r\n        .then(() => updateProfilePic(photo))\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [image]);\r\n\r\n  const updatePic = (file) => {\r\n    setImage(file);\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n  const preload = () => {\r\n    if (user) {\r\n      fetch(`${API}/myposts/${user._id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          setPics(result);\r\n        })\r\n        .then(\r\n          fetch(`${API}/profile/${user._id}`)\r\n            .then((res) => res.json())\r\n            .then((result) => {\r\n              setDetails(result);\r\n              setDp(result.profile);\r\n            })\r\n        );\r\n    } else {\r\n      return <Redirect to=\"/signup\" />;\r\n    }\r\n  };\r\n  const deletePost = (postid) => {\r\n    fetch(`${API}/post/delete/${user._id}/${postid}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = mypics.filter((item) => {\r\n          return item._id !== result._id;\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      {isAuthenticated() ? (\r\n        userDetails.profile && dp.length > 0 ? (\r\n          <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-around\",\r\n                margin: \"18px 0px\",\r\n                borderBottom: \"1px solid grey\",\r\n              }}\r\n            >\r\n              <div>\r\n                <object\r\n                  data={dp}\r\n                  style={{\r\n                    width: \"160px\",\r\n                    height: \"160px\",\r\n                    borderRadius: \"80px\",\r\n                  }}\r\n                >\r\n                  <img\r\n                    style={{\r\n                      width: \"160px\",\r\n                      height: \"160px\",\r\n                      borderRadius: \"80px\",\r\n                    }}\r\n                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png\"\r\n                    alt=\"\"\r\n                  />\r\n                </object>\r\n                <div className=\"file-field input\">\r\n                  <div className=\" btn waves-effect waves-light #ff1744 red accent-3\">\r\n                    <span>Update DP</span>\r\n                    <input\r\n                      type=\"file\"\r\n                      onChange={(e) => updatePic(e.target.files[0])}\r\n                    />\r\n                  </div>\r\n                  <div className=\"file-path-wrapper\">\r\n                    <input className=\"file-path validate\" type=\"text\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <h4>{user.name}</h4>\r\n                <h5>{user.email}</h5>\r\n\r\n                <div\r\n                  style={{\r\n                    display: \"Flex\",\r\n                    justifyContent: \"space-between\",\r\n                    width: \"108%\",\r\n                  }}\r\n                >\r\n                  <h6>{mypics.length} Post</h6>\r\n                  <h6>{userDetails.followers.length} Followers</h6>\r\n                  <h6>{userDetails.following.length} Following</h6>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"gallery\">\r\n              {mypics.map((item) => {\r\n                return (\r\n                  <div key={item._id}>\r\n                    <div className=\"card profile-card\">\r\n                      <div className=\"card-content\">\r\n                        <div className=\"card-image\">\r\n                          <img\r\n                            key={item._id}\r\n                            className=\"item\"\r\n                            alt={item.title}\r\n                            src={item.photo}\r\n                          />\r\n                        </div>\r\n                        <i\r\n                          className=\"material-icons\"\r\n                          style={{ float: \"right\" }}\r\n                          onClick={() => {\r\n                            deletePost(item._id);\r\n                          }}\r\n                        >\r\n                          delete\r\n                        </i>\r\n                        <i className=\"material-icons\" style={{ float: \"left\" }}>\r\n                          <Link to={`/editpost/${item._id}/`}>create </Link>\r\n                        </i>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <h2>Loading!</h2>\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signup\" />\r\n      )}\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport { CreateaPost } from \"../helper/PostHelper\";\r\nconst CreatePost = () => {\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const postedBy = user.name;\r\n  const userId = user._id;\r\n  let photo = \"\";\r\n\r\n  const PostDetails = () => {\r\n    const data = new FormData();\r\n    data.append(\"file\", image);\r\n    data.append(\"upload_preset\", \"insta-clone\");\r\n    data.append(\"cloud_name\", \"makarasu\");\r\n    fetch(\"https://api.cloudinary.com/v1_1/makarasu/image/upload\", {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        photo = data.secure_url;\r\n      })\r\n      .then(() =>\r\n        CreateaPost(photo, postedBy, API, user, token, title, body, userId)\r\n      )\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      <div className=\"card field\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Title\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Body\"\r\n          value={body}\r\n          onChange={(e) => setBody(e.target.value)}\r\n        />\r\n        <div className=\"file-field input\">\r\n          <div className=\" btn waves-effect waves-light #ff1744 red accent-3\">\r\n            <span>Upload Image</span>\r\n            <input type=\"file\" onChange={(e) => setImage(e.target.files[0])} />\r\n          </div>\r\n          <div className=\"file-path-wrapper\">\r\n            <input className=\"file-path validate\" type=\"text\" />\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"btn waves-effect waves-light #ff1744 red accent-3\"\r\n          onClick={() => PostDetails()}\r\n        >\r\n          Submit Post\r\n        </button>\r\n      </div>\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport { useParams, Redirect } from \"react-router-dom\";\r\n\r\nconst UserProfile = () => {\r\n  const [userProfile, setProfile] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n  const { userId } = useParams();\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  const preload = () => {\r\n    if (user) {\r\n      fetch(`${API}/profile/${userId}`)\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          setProfile(result);\r\n        });\r\n    } else {\r\n      return <Redirect to=\"/signup\" />;\r\n    }\r\n  };\r\n\r\n  const followUser = () => {\r\n    fetch(`${API}/follow`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        username: userProfile.username,\r\n        followId: userId,\r\n        name: user.name,\r\n        id: user._id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        window.location.reload();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const unfollowUser = () => {\r\n    fetch(`${API}/unfollow`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        username: userProfile.username,\r\n        unfollowId: userId,\r\n        name: user.name,\r\n        id: user._id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        window.location.reload();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      <>\r\n        {isAuthenticated() ? (\r\n          userProfile.profile ? (\r\n            <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-around\",\r\n                  margin: \"18px 0px\",\r\n                  borderBottom: \"1px solid grey\",\r\n                }}\r\n              >\r\n                <div>\r\n                  <object\r\n                    data={userProfile.profile}\r\n                    style={{\r\n                      width: \"160px\",\r\n                      height: \"160px\",\r\n                      borderRadius: \"80px\",\r\n                    }}\r\n                  >\r\n                    <img\r\n                      style={{\r\n                        width: \"160px\",\r\n                        height: \"160px\",\r\n                        borderRadius: \"80px\",\r\n                      }}\r\n                      src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png\"\r\n                      alt=\"\"\r\n                    />\r\n                  </object>\r\n                </div>\r\n                <div>\r\n                  <h4>{userProfile.username}</h4>\r\n                  <h5>{userProfile.useremail}</h5>\r\n                  <div\r\n                    style={{\r\n                      display: \"Flex\",\r\n                      justifyContent: \"space-between\",\r\n                      width: \"108%\",\r\n                    }}\r\n                  >\r\n                    <h6>{userProfile.posts.length} posts</h6>\r\n                    <h6>{userProfile.followers.length} Followers</h6>\r\n                    <h6>{userProfile.following.length} Following</h6>\r\n                  </div>\r\n                  <div style={{ padding: \"10px 0px \" }}>\r\n                    {userProfile.followers.includes(user.name) ? (\r\n                      <button\r\n                        className=\"btn waves-effect waves-light #ff1744 blue accent-3\"\r\n                        onClick={() => unfollowUser()}\r\n                      >\r\n                        Unfollow\r\n                      </button>\r\n                    ) : (\r\n                      <button\r\n                        className=\"btn waves-effect waves-light #ff1744 blue accent-3\"\r\n                        onClick={() => followUser()}\r\n                      >\r\n                        Follow\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"gallery\">\r\n                {userProfile.posts.map((item) => {\r\n                  return (\r\n                    <img\r\n                      key={item._id}\r\n                      className=\"item\"\r\n                      alt={item.title}\r\n                      src={item.photo}\r\n                    />\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <h2>Loading!</h2>\r\n          )\r\n        ) : (\r\n          <Redirect to=\"/signup\" />\r\n        )}\r\n\r\n        {/* {!isAuthenticated() && <Redirect to=\"/signup\" />}\r\n        {isAuthenticated() && userProfile.posts ? (\r\n          <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-around\",\r\n                margin: \"18px 0px\",\r\n                borderBottom: \"1px solid grey\",\r\n              }}\r\n            >\r\n              <div>\r\n                <object\r\n                  data={userProfile.profile}\r\n                  style={{\r\n                    width: \"160px\",\r\n                    height: \"160px\",\r\n                    borderRadius: \"80px\",\r\n                  }}\r\n                >\r\n                  <img\r\n                    style={{\r\n                      width: \"160px\",\r\n                      height: \"160px\",\r\n                      borderRadius: \"80px\",\r\n                    }}\r\n                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png\"\r\n                    alt=\"\"\r\n                  />\r\n                </object>\r\n              </div>\r\n              <div>\r\n                <h4>{userProfile.username}</h4>\r\n                <h5>{userProfile.useremail}</h5>\r\n                <div\r\n                  style={{\r\n                    display: \"Flex\",\r\n                    justifyContent: \"space-between\",\r\n                    width: \"108%\",\r\n                  }}\r\n                >\r\n                  <h6>{userProfile.posts.length} posts</h6>\r\n                  <h6>{userProfile.followers.length} Followers</h6>\r\n                  <h6>{userProfile.following.length} Following</h6>\r\n                </div>\r\n                <div style={{ padding: \"10px 0px \" }}>\r\n                  {userProfile.followers.includes(user.name) ? (\r\n                    <button\r\n                      className=\"btn waves-effect waves-light #ff1744 blue accent-3\"\r\n                      onClick={() => unfollowUser()}\r\n                    >\r\n                      Unfollow\r\n                    </button>\r\n                  ) : (\r\n                    <button\r\n                      className=\"btn waves-effect waves-light #ff1744 blue accent-3\"\r\n                      onClick={() => followUser()}\r\n                    >\r\n                      Follow\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"gallery\">\r\n              {userProfile.posts.map((item) => {\r\n                return (\r\n                  <img\r\n                    key={item._id}\r\n                    className=\"item\"\r\n                    alt={item.title}\r\n                    src={item.photo}\r\n                  />\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <h2>Loading!</h2>\r\n        )} */}\r\n      </>\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport M from \"materialize-css\";\r\n\r\nimport { Redirect, useParams, useHistory } from \"react-router-dom\";\r\nconst Post = () => {\r\n  const [pics, setPics] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n  const { postId } = useParams();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n  const preload = () => {\r\n    fetch(`${API}/post/${postId}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setPics(result);\r\n        setTitle(result.title);\r\n        setBody(result.body);\r\n        setImage(result.photo);\r\n      });\r\n  };\r\n\r\n  let photo = \"\";\r\n  const UpdatePost = () => {\r\n    const data = new FormData();\r\n    data.append(\"file\", image);\r\n    data.append(\"upload_preset\", \"insta-clone\");\r\n    data.append(\"cloud_name\", \"makarasu\");\r\n    fetch(\"https://api.cloudinary.com/v1_1/makarasu/image/upload\", {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        photo = data.secure_url;\r\n      })\r\n      .then(() => Update(title, body, photo, token, postId))\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const Update = (title, body, photo, token, postId) => {\r\n    fetch(`${API}/post/update/${postId}`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        photo: photo,\r\n        title: title,\r\n        body: body,\r\n        postId: postId,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.error) {\r\n          M.toast({\r\n            html: \"Post Updated Successful\",\r\n            classes: \"#43a047 green darken-1\",\r\n          });\r\n          setTimeout(() => {\r\n            history.push(`/profile`);\r\n          }, 1000);\r\n        } else {\r\n          M.toast({\r\n            html: data.error,\r\n            classes: \"#c62828 red darken-2\",\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  return (\r\n    <App>\r\n      {isAuthenticated() ? (\r\n        user.name === pics.postedBy ? (\r\n          <div className=\"card home-card\">\r\n            <h5 style={{ padding: \"7px\" }}>Edit Post</h5>\r\n            <div className=\"card-image\">\r\n              <img alt={pics.title} src={pics.photo} />\r\n            </div>\r\n            <div className=\"card-content\">\r\n              <h5>\r\n                <b>Title : </b>\r\n                {pics.title}\r\n              </h5>\r\n              <h5>\r\n                <b>Body :</b> {pics.body}\r\n              </h5>\r\n            </div>\r\n            <div className=\"card field\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Title\"\r\n                value={title}\r\n                onChange={(e) => setTitle(e.target.value)}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Body\"\r\n                value={body}\r\n                onChange={(e) => setBody(e.target.value)}\r\n              />\r\n              <div className=\"file-field input\">\r\n                <div className=\" btn waves-effect waves-light #ff1744 red accent-3\">\r\n                  <span>Upload Image</span>\r\n                  <input\r\n                    type=\"file\"\r\n                    onChange={(e) => setImage(e.target.files[0])}\r\n                  />\r\n                </div>\r\n                <div className=\"file-path-wrapper\">\r\n                  <input className=\"file-path validate\" type=\"text\" />\r\n                </div>\r\n              </div>\r\n              <button\r\n                className=\"btn waves-effect waves-light #ff1744 red accent-3\"\r\n                onClick={() => UpdatePost()}\r\n              >\r\n                Update Post\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <h2>Loading!</h2>\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signup\" />\r\n      )}\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\nconst Following = () => {\r\n  const [pics, setPics] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n  const preload = () => {\r\n    if (user) {\r\n      fetch(`${API}/feed/${user._id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          setPics(result);\r\n        });\r\n    } else {\r\n      return <Redirect to=\"/signup\" />;\r\n    }\r\n  };\r\n  const likePost = (id) => {\r\n    fetch(`${API}/like`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n        userId: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const unlikePost = (id) => {\r\n    fetch(`${API}/unlike`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n        userId: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deletePost = (postid) => {\r\n    fetch(`${API}/post/delete/${user._id}/${postid}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.filter((item) => {\r\n          return item._id !== result._id;\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const makeComment = (text, id) => {\r\n    fetch(`${API}/comment`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        text: text,\r\n        postId: id,\r\n        userName: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deleteComment = (cId, id) => {\r\n    fetch(`${API}/comment/delete`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        commentId: cId,\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      {isAuthenticated() ? (\r\n        pics.length > 0 ? (\r\n          pics.map((item) => {\r\n            return (\r\n              <div key={item._id}>\r\n                <div className=\"card home-card\">\r\n                  <span className=\"card-title\">\r\n                    <h5 style={{ padding: \"7px\" }}>\r\n                      <Link\r\n                        to={\r\n                          item.userId !== user._id\r\n                            ? `/profile/${item.userId}`\r\n                            : `/profile`\r\n                        }\r\n                      >\r\n                        {item.postedBy}\r\n                      </Link>\r\n                      {item.postedBy === user.name && (\r\n                        <i\r\n                          className=\"material-icons\"\r\n                          style={{ float: \"right\" }}\r\n                          onClick={() => {\r\n                            deletePost(item._id);\r\n                          }}\r\n                        >\r\n                          delete\r\n                        </i>\r\n                      )}\r\n                    </h5>\r\n                    {/* <h6 style={{ padding: \"10px\" }}>{item.createdAt}</h6> */}\r\n                  </span>\r\n                  <div className=\"card-image\">\r\n                    <img alt={item.title} src={item.photo} />\r\n                  </div>\r\n                  <div className=\"card-content\">\r\n                    {item.like.includes(user.name) ? (\r\n                      <i\r\n                        className=\"material-icons\"\r\n                        onClick={() => {\r\n                          unlikePost(item._id);\r\n                        }}\r\n                      >\r\n                        thumb_down\r\n                      </i>\r\n                    ) : (\r\n                      <i\r\n                        className=\"material-icons\"\r\n                        onClick={() => {\r\n                          likePost(item._id);\r\n                        }}\r\n                      >\r\n                        thumb_up\r\n                      </i>\r\n                    )}\r\n\r\n                    <h6>{item.like.length} Likes</h6>\r\n                    <h6>\r\n                      <b>Title : </b>\r\n                      {item.title}\r\n                    </h6>\r\n                    <h6>\r\n                      <b>Body :</b> {item.body}\r\n                    </h6>\r\n                    {item.comment.map((record) => {\r\n                      return (\r\n                        <h6 key={record._id}>\r\n                          <span style={{ fontWeight: \"500\" }}>\r\n                            <b>{record.postedBy} : </b>\r\n                          </span>\r\n                          {record.text}\r\n                          {record.postedBy === user.name && (\r\n                            <i\r\n                              className=\"material-icons\"\r\n                              style={{ float: \"right\" }}\r\n                              onClick={() => {\r\n                                deleteComment(record._id, item._id);\r\n                              }}\r\n                            >\r\n                              delete\r\n                            </i>\r\n                          )}\r\n                        </h6>\r\n                      );\r\n                    })}\r\n                    <form\r\n                      onSubmit={(e) => {\r\n                        e.preventDefault();\r\n                        makeComment(e.target[0].value, item._id);\r\n                      }}\r\n                    >\r\n                      <input type=\"text\" placeholder=\"add a comment\" />\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        ) : (\r\n          <h2>Loading!</h2>\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signup\" />\r\n      )}\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Following;\r\n","import React from \"react\";\r\nimport Home from \"./pages/Home\";\r\nimport Login from \"./pages/Login\";\r\nimport Signup from \"./pages/Signup\";\r\nimport Profile from \"./pages/Profile\";\r\nimport CreatePost from \"./pages/CreatePost\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport UserProfile from \"./pages/UserProfile\";\r\nimport Post from \"./pages/Mypost\";\r\nimport Following from \"./pages/FollowingPost\";\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/signup\" exact component={Signup} />\r\n        <Route path=\"/login\" exact component={Login} />\r\n        <Route path=\"/profile\" exact component={Profile} />\r\n        <Route path=\"/create\" exact component={CreatePost} />\r\n        <Route path=\"/profile/:userId\" exact component={UserProfile} />\r\n        <Route path=\"/editpost/:postId\" exact component={Post} />\r\n        <Route path=\"/following\" exact component={Following} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\nimport Routes from \"./Routes\";\nimport ReactDOM from \"react-dom\";\n\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\n"],"sourceRoot":""}
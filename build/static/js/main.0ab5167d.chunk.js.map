{"version":3,"sources":["backend.js","helper/AuthHelper.js","core/Navbar.js","App.js","pages/Home.js","pages/Login.js","pages/Signup.js","helper/PostHelper.js","pages/Profile.js","pages/CreatePost.js","pages/UserProfile.js","pages/Mypost.js","pages/FollowingPost.js","Routes.js","index.js"],"names":["API","signup","user","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","data","error","M","toast","html","classes","setTimeout","window","location","href","catch","console","log","isAuthenticated","localStorage","getItem","parse","NavBar","history","useHistory","className","to","id","onClick","next","removeItem","logout","push","App","children","Home","useState","pics","setPics","token","useEffect","Authorization","res","result","length","map","item","key","_id","style","padding","userId","postedBy","name","float","postid","newData","filter","err","alt","title","src","photo","like","includes","postId","comment","record","fontWeight","text","cId","commentId","onSubmit","e","preventDefault","target","value","userName","type","placeholder","Login","email","setEmail","password","setPassword","onChange","setItem","Signup","setName","image","setImage","files","FormData","append","url","uploadPic","Profile","mypics","userDetails","setDetails","dp","setDp","secure_url","updateProfilePic","profile","maxWidth","margin","display","justifyContent","borderBottom","width","height","borderRadius","file","followers","following","CreatePost","setTitle","setBody","PostDetails","CreateaPost","UserProfile","userProfile","setProfile","useParams","username","useremail","posts","unfollowId","followId","Post","Update","UpdatePost","Following","Routes","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0ab5167d.chunk.js","sourcesContent":["export const API = \"https://pure-depths-98578.herokuapp.com\";\r\n","import { API } from \"../backend\";\r\nimport M from \"materialize-css\";\r\n\r\nexport const signup = (user) => {\r\n  return fetch(`${API}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      if (!data.error) {\r\n        M.toast({\r\n          html: \"Signup Successful\",\r\n          classes: \"#43a047 green darken-1\",\r\n        });\r\n        setTimeout(() => {\r\n          window.location.href = \"/login\";\r\n        }, 2000);\r\n      } else {\r\n        M.toast({\r\n          html: data.error,\r\n          classes: \"#c62828 red darken-2\",\r\n        });\r\n      }\r\n    })\r\n    .catch((error) => console.log(error));\r\n};\r\n\r\n// export const login = (user) => {\r\n//   return fetch(`${API}/login`, {\r\n//     method: \"POST\",\r\n//     headers: {\r\n//       Accept: \"application/json\",\r\n//       \"Content-Type\": \"application/json\",\r\n//     },\r\n//     body: JSON.stringify(user),\r\n//   })\r\n//     .then((response) => {\r\n//       return response.json();\r\n//     })\r\n//     .then((data) => {\r\n//       if (!data.error) {\r\n//         localStorage.setItem(\"loggedIn\", JSON.stringify(data));\r\n//         M.toast({\r\n//           html: \"Login Successful\",\r\n//           classes: \"#43a047 green darken-1\",\r\n//         });\r\n//         setTimeout(() => {\r\n//           window.location.href = \"/\";\r\n//         }, 250);\r\n//       } else {\r\n//         M.toast({\r\n//           html: data.error,\r\n//           classes: \"#c62828 red darken-2\",\r\n//         });\r\n//       }\r\n//     })\r\n//     .catch((error) => console.log(error));\r\n// };\r\n\r\nexport const isAuthenticated = () => {\r\n  if (typeof window == \"undefined\") {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem(\"loggedIn\")) {\r\n    return JSON.parse(localStorage.getItem(\"loggedIn\"));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const logout = (next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"loggedIn\");\r\n    next();\r\n\r\n    return fetch(`${API}/logout`, {\r\n      method: \"GET\",\r\n    })\r\n      .then((response) => console.log(\"Signout Successs\"))\r\n\r\n      .catch((error) => console.log(error));\r\n  }\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { isAuthenticated, logout } from \"../helper/AuthHelper\";\r\nconst NavBar = () => {\r\n  const history = useHistory();\r\n  return (\r\n    <nav>\r\n      <div className=\"nav-wrapper white\">\r\n        {isAuthenticated() ? (\r\n          <Link to=\"/\" className=\"brand-logo left\">\r\n            Instagram\r\n          </Link>\r\n        ) : (\r\n          <div className=\"brand-logo left \">Instagram</div>\r\n        )}\r\n\r\n        <ul id=\"nav-mobile\" className=\"right\">\r\n          {!isAuthenticated() && (\r\n            <Fragment>\r\n              <li>\r\n                <Link to=\"/signup\" className=\"brand\">\r\n                  Signup\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/login\" className=\"brand\">\r\n                  Login\r\n                </Link>\r\n              </li>\r\n            </Fragment>\r\n          )}\r\n\r\n          {isAuthenticated() && (\r\n            <Fragment>\r\n              <li>\r\n                <Link to=\"/profile\" className=\"brand\">\r\n                  Profile\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/following\" className=\"brand\">\r\n                  Following Posts\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/create\" className=\"brand\">\r\n                  Create Post\r\n                </Link>\r\n              </li>\r\n\r\n              <li>\r\n                <button\r\n                  className=\"btn waves-effect waves-light #ff1744 red darken-1\"\r\n                  onClick={() => {\r\n                    logout(() => {\r\n                      history.push(\"/signup\");\r\n                    });\r\n                  }}\r\n                >\r\n                  logout\r\n                </button>\r\n              </li>\r\n            </Fragment>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\nimport NavBar from \"./core/Navbar\";\nimport \"./App.css\";\n\nconst App = ({ children }) => (\n  <div>\n    <NavBar />\n    <div className=\"container-fluid\">\n      <div>{children}</div>\n    </div>\n  </div>\n);\n\nexport default App;\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\nconst Home = () => {\r\n  const [pics, setPics] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n\r\n  useEffect(() => {\r\n    fetch(`${API}/posts`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setPics(result);\r\n      });\r\n  }, [token]);\r\n\r\n  const likePost = (id) => {\r\n    fetch(`${API}/like`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n        userId: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const unlikePost = (id) => {\r\n    fetch(`${API}/unlike`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n        userId: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deletePost = (postid) => {\r\n    fetch(`${API}/post/delete/${user._id}/${postid}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.filter((item) => {\r\n          return item._id !== result._id;\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const makeComment = (text, id) => {\r\n    fetch(`${API}/comment`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        text: text,\r\n        postId: id,\r\n        userName: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deleteComment = (cId, id) => {\r\n    fetch(`${API}/comment/delete`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        commentId: cId,\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      {isAuthenticated() ? (\r\n        pics.length > 0 ? (\r\n          pics.map((item) => {\r\n            return (\r\n              <div key={item._id}>\r\n                <div className=\"card home-card\">\r\n                  <span className=\"card-title\">\r\n                    <h5 style={{ padding: \"7px\" }}>\r\n                      <Link\r\n                        to={\r\n                          item.userId !== user._id\r\n                            ? `/profile/${item.userId}`\r\n                            : `/profile`\r\n                        }\r\n                      >\r\n                        {item.postedBy}\r\n                      </Link>\r\n                      {item.postedBy === user.name && (\r\n                        <i\r\n                          className=\"material-icons\"\r\n                          style={{ float: \"right\" }}\r\n                          onClick={() => {\r\n                            deletePost(item._id);\r\n                          }}\r\n                        >\r\n                          delete\r\n                        </i>\r\n                      )}\r\n                    </h5>\r\n                    {/* <h6 style={{ padding: \"10px\" }}>{item.createdAt}</h6> */}\r\n                  </span>\r\n                  <div className=\"card-image\">\r\n                    <img alt={item.title} src={item.photo} />\r\n                  </div>\r\n                  <div className=\"card-content\">\r\n                    {item.like.includes(user.name) ? (\r\n                      <i\r\n                        className=\"material-icons\"\r\n                        onClick={() => {\r\n                          unlikePost(item._id);\r\n                        }}\r\n                      >\r\n                        thumb_down\r\n                      </i>\r\n                    ) : (\r\n                      <i\r\n                        className=\"material-icons\"\r\n                        onClick={() => {\r\n                          likePost(item._id);\r\n                        }}\r\n                      >\r\n                        thumb_up\r\n                      </i>\r\n                    )}\r\n\r\n                    <h6>{item.like.length} Likes</h6>\r\n                    <h6>\r\n                      <b>Title : </b>\r\n                      {item.title}\r\n                    </h6>\r\n                    <h6>\r\n                      <b>Body :</b> {item.body}\r\n                    </h6>\r\n                    {item.comment.map((record) => {\r\n                      return (\r\n                        <h6 key={record._id}>\r\n                          <span style={{ fontWeight: \"500\" }}>\r\n                            <b>{record.postedBy} : </b>\r\n                          </span>\r\n                          {record.text}\r\n                          {record.postedBy === user.name && (\r\n                            <i\r\n                              className=\"material-icons\"\r\n                              style={{ float: \"right\" }}\r\n                              onClick={() => {\r\n                                deleteComment(record._id, item._id);\r\n                              }}\r\n                            >\r\n                              delete\r\n                            </i>\r\n                          )}\r\n                        </h6>\r\n                      );\r\n                    })}\r\n                    <form\r\n                      onSubmit={(e) => {\r\n                        e.preventDefault();\r\n                        makeComment(e.target[0].value, item._id);\r\n                      }}\r\n                    >\r\n                      <input type=\"text\" placeholder=\"add a comment\" />\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        ) : (\r\n          <h2>Loading!</h2>\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signup\" />\r\n      )}\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { API } from \"../backend\";\r\nimport M from \"materialize-css\";\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const signupform = () => {\r\n    const login = (user) => {\r\n      return fetch(`${API}/login`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(user),\r\n      })\r\n        .then((response) => {\r\n          return response.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.error) {\r\n            localStorage.setItem(\"loggedIn\", JSON.stringify(data));\r\n            M.toast({\r\n              html: \"Login Successful\",\r\n              classes: \"#43a047 green darken-1\",\r\n            });\r\n            setTimeout(() => {\r\n              window.location.href = \"/\";\r\n            }, 250);\r\n          } else {\r\n            M.toast({\r\n              html: data.error,\r\n              classes: \"#c62828 red darken-2\",\r\n            });\r\n          }\r\n        })\r\n        .catch((error) => console.log(error));\r\n    };\r\n    return (\r\n      <div>\r\n        <div className=\"logincard\">\r\n          <div className=\"card auth-card input-field\">\r\n            <h2>Instagram</h2>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n            <button\r\n              className=\"btn waves-effect waves-light #ff1744 red accent-3\"\r\n              onClick={() => login({ email, password })}\r\n            >\r\n              Login\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  return <App>{signupform()}</App>;\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signup } from \"../helper/AuthHelper\";\r\n\r\nconst Signup = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  let photo = \"\";\r\n\r\n  const uploadPic = () => {\r\n    if (image) {\r\n      const data = new FormData();\r\n      data.append(\"file\", image);\r\n      data.append(\"upload_preset\", \"insta-clone\");\r\n      data.append(\"cloud_name\", \"makarasu\");\r\n      fetch(\"https://api.cloudinary.com/v1_1/makarasu/image/upload\", {\r\n        method: \"post\",\r\n        body: data,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          photo = data.url;\r\n        })\r\n        .then(() => signup({ name, email, password, photo }))\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      signup({ name, email, password });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      <div>\r\n        <div className=\"signupcard\">\r\n          <div className=\"card auth-card input-field\">\r\n            <h2>Instagram</h2>\r\n            <input\r\n              type=\"text\"\r\n              className=\"input-field\"\r\n              placeholder=\"Username\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"email\"\r\n              className=\"input-field\"\r\n              placeholder=\"Email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              className=\"input-field\"\r\n              placeholder=\"Password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n            <div className=\"file-field input\">\r\n              <div className=\" btn waves-effect waves-light #ff1744 red accent-3\">\r\n                <span>Upload DP</span>\r\n                <input\r\n                  type=\"file\"\r\n                  onChange={(e) => setImage(e.target.files[0])}\r\n                />\r\n              </div>\r\n              <div className=\"file-path-wrapper\">\r\n                <input className=\"file-path validate\" type=\"text\" />\r\n              </div>\r\n            </div>\r\n            <button\r\n              className=\"btn waves-effect waves-light #ff1744 red accent-3\"\r\n              onClick={() => uploadPic()}\r\n            >\r\n              Signup\r\n            </button>\r\n            <h6 className=\"text-lighten-3\">\r\n              Already have an account ?\r\n              <Link to=\"/login\" className=\"link\">\r\n                login\r\n              </Link>\r\n            </h6>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import M from \"materialize-css\";\r\nimport { API } from \"../backend\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nconst { user, token } = isAuthenticated();\r\n\r\nexport const CreateaPost = (\r\n  photo,\r\n  postedBy,\r\n  API,\r\n  user,\r\n  token,\r\n  title,\r\n  body,\r\n  userId\r\n) => {\r\n  fetch(`${API}/create/post/${user._id}`, {\r\n    method: \"post\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({\r\n      title,\r\n      body,\r\n      photo,\r\n      postedBy,\r\n      userId,\r\n    }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      if (!data.error) {\r\n        M.toast({\r\n          html: \"Post Created Successful\",\r\n          classes: \"#43a047 green darken-1\",\r\n        });\r\n        setTimeout(() => {\r\n          window.location.href = \"/\";\r\n        }, 2000);\r\n      } else {\r\n        M.toast({\r\n          html: data.error,\r\n          classes: \"#c62828 red darken-2\",\r\n        });\r\n      }\r\n    })\r\n    .catch((error) => console.log(error));\r\n};\r\n\r\nexport const updateProfilePic = (photo) => {\r\n  fetch(`${API}/profile/pic/${user}`, {\r\n    method: \"put\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({\r\n      photo: photo,\r\n    }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\n// export const Update = (title, body, photo, token, postId) => {\r\n//   fetch(`${API}/post/update/${postId}`, {\r\n//     method: \"put\",\r\n//     headers: {\r\n//       \"Content-Type\": \"application/json\",\r\n//       Authorization: `Bearer ${token}`,\r\n//     },\r\n//     body: JSON.stringify({\r\n//       photo: photo,\r\n//       title: title,\r\n//       body: body,\r\n//       postId: postId,\r\n//     }),\r\n//   })\r\n//     .then((res) => res.json())\r\n//     .then((data) => {\r\n//       if (!data.error) {\r\n//         M.toast({\r\n//           html: \"Post Updated Successful\",\r\n//           classes: \"#43a047 green darken-1\",\r\n//         });\r\n//         setTimeout(() => {\r\n//           window.location.href = `/editpost/${postId}`;\r\n//         }, 2000);\r\n//       } else {\r\n//         M.toast({\r\n//           html: data.error,\r\n//           classes: \"#c62828 red darken-2\",\r\n//         });\r\n//       }\r\n//     })\r\n//     .catch((err) => {\r\n//       console.log(err);\r\n//     });\r\n// };\r\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { updateProfilePic } from \"../helper/PostHelper\";\r\nimport { API } from \"../backend\";\r\nimport M from \"materialize-css\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\nconst Profile = () => {\r\n  const [mypics, setPics] = useState([]);\r\n  const [userDetails, setDetails] = useState([]);\r\n  const [dp, setDp] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n  const [image, setImage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let photo = \"\";\r\n    if (image) {\r\n      const data = new FormData();\r\n      data.append(\"file\", image);\r\n      data.append(\"upload_preset\", \"insta-clone\");\r\n      data.append(\"cloud_name\", \"makarasu\");\r\n      fetch(\"https://api.cloudinary.com/v1_1/makarasu/image/upload\", {\r\n        method: \"post\",\r\n        body: data,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          photo = data.secure_url;\r\n          setDp(data.secure_url);\r\n          M.toast({\r\n            html: \"Picture Updated Successfully\",\r\n            classes: \"#43a047 green darken-1\",\r\n          });\r\n        })\r\n        .then(() => updateProfilePic(photo))\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [image]);\r\n\r\n  const updatePic = (file) => {\r\n    setImage(file);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user._id) {\r\n      fetch(`${API}/myposts/${user._id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          setPics(result);\r\n        })\r\n        .then(\r\n          fetch(`${API}/profile/${user._id}`)\r\n            .then((res) => res.json())\r\n            .then((result) => {\r\n              setDetails(result);\r\n              setDp(result.profile);\r\n            })\r\n        );\r\n    } else {\r\n      return <Redirect to=\"/signup\" />;\r\n    }\r\n  }, [user._id, token]);\r\n\r\n  const deletePost = (postid) => {\r\n    fetch(`${API}/post/delete/${user._id}/${postid}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = mypics.filter((item) => {\r\n          return item._id !== result._id;\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      {isAuthenticated() ? (\r\n        userDetails.profile && dp.length > 0 ? (\r\n          <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-around\",\r\n                margin: \"18px 0px\",\r\n                borderBottom: \"1px solid grey\",\r\n              }}\r\n            >\r\n              <div>\r\n                <object\r\n                  data={dp}\r\n                  style={{\r\n                    width: \"160px\",\r\n                    height: \"160px\",\r\n                    borderRadius: \"80px\",\r\n                  }}\r\n                >\r\n                  <img\r\n                    style={{\r\n                      width: \"160px\",\r\n                      height: \"160px\",\r\n                      borderRadius: \"80px\",\r\n                    }}\r\n                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png\"\r\n                    alt=\"\"\r\n                  />\r\n                </object>\r\n                <div className=\"file-field input\">\r\n                  <div className=\" btn waves-effect waves-light #ff1744 red accent-3\">\r\n                    <span>Update DP</span>\r\n                    <input\r\n                      type=\"file\"\r\n                      onChange={(e) => updatePic(e.target.files[0])}\r\n                    />\r\n                  </div>\r\n                  <div className=\"file-path-wrapper\">\r\n                    <input className=\"file-path validate\" type=\"text\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <h4>{user.name}</h4>\r\n                <h5>{user.email}</h5>\r\n\r\n                <div\r\n                  style={{\r\n                    display: \"Flex\",\r\n                    justifyContent: \"space-between\",\r\n                    width: \"108%\",\r\n                  }}\r\n                >\r\n                  <h6>{mypics.length} Post</h6>\r\n                  <h6>{userDetails.followers.length} Followers</h6>\r\n                  <h6>{userDetails.following.length} Following</h6>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"gallery\">\r\n              {mypics.map((item) => {\r\n                return (\r\n                  <div key={item._id}>\r\n                    <div className=\"card profile-card\">\r\n                      <div className=\"card-content\">\r\n                        <div className=\"card-image\">\r\n                          <img\r\n                            key={item._id}\r\n                            className=\"item\"\r\n                            alt={item.title}\r\n                            src={item.photo}\r\n                          />\r\n                        </div>\r\n                        <i\r\n                          className=\"material-icons\"\r\n                          style={{ float: \"right\" }}\r\n                          onClick={() => {\r\n                            deletePost(item._id);\r\n                          }}\r\n                        >\r\n                          delete\r\n                        </i>\r\n                        <i className=\"material-icons\" style={{ float: \"left\" }}>\r\n                          <Link to={`/editpost/${item._id}/`}>create </Link>\r\n                        </i>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <h2>Loading!</h2>\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signup\" />\r\n      )}\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport { CreateaPost } from \"../helper/PostHelper\";\r\nconst CreatePost = () => {\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const postedBy = user.name;\r\n  const userId = user._id;\r\n  let photo = \"\";\r\n\r\n  const PostDetails = () => {\r\n    const data = new FormData();\r\n    data.append(\"file\", image);\r\n    data.append(\"upload_preset\", \"insta-clone\");\r\n    data.append(\"cloud_name\", \"makarasu\");\r\n    fetch(\"https://api.cloudinary.com/v1_1/makarasu/image/upload\", {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        photo = data.secure_url;\r\n      })\r\n      .then(() =>\r\n        CreateaPost(photo, postedBy, API, user, token, title, body, userId)\r\n      )\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      <div className=\"card field\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Title\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Body\"\r\n          value={body}\r\n          onChange={(e) => setBody(e.target.value)}\r\n        />\r\n        <div className=\"file-field input\">\r\n          <div className=\" btn waves-effect waves-light #ff1744 red accent-3\">\r\n            <span>Upload Image</span>\r\n            <input type=\"file\" onChange={(e) => setImage(e.target.files[0])} />\r\n          </div>\r\n          <div className=\"file-path-wrapper\">\r\n            <input className=\"file-path validate\" type=\"text\" />\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"btn waves-effect waves-light #ff1744 red accent-3\"\r\n          onClick={() => PostDetails()}\r\n        >\r\n          Submit Post\r\n        </button>\r\n      </div>\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport { useParams, Redirect, useHistory } from \"react-router-dom\";\r\nimport M from \"materialize-css\";\r\n\r\nconst UserProfile = () => {\r\n  const [userProfile, setProfile] = useState([]);\r\n  const history = useHistory();\r\n  const { user, token } = isAuthenticated();\r\n  const { userId } = useParams();\r\n\r\n  useEffect(() => {\r\n    if (user._id) {\r\n      fetch(`${API}/profile/${userId}`)\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          setProfile(result);\r\n        });\r\n    } else {\r\n      return <Redirect to=\"/signup\" />;\r\n    }\r\n  }, [user._id, userId]);\r\n\r\n  const followUser = () => {\r\n    fetch(`${API}/follow`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        username: userProfile.username,\r\n        followId: userId,\r\n        name: user.name,\r\n        id: user._id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then(() => {\r\n        M.toast({\r\n          html: `You are following ${userProfile.username}`,\r\n          classes: \"#43a047 green darken-1\",\r\n        });\r\n        setTimeout(() => {\r\n          history.push(\"/\");\r\n        }, 1000);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const unfollowUser = () => {\r\n    fetch(`${API}/unfollow`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        username: userProfile.username,\r\n        unfollowId: userId,\r\n        name: user.name,\r\n        id: user._id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then(() => {\r\n        M.toast({\r\n          html: `You unfollowed ${userProfile.username}`,\r\n          classes: \"#43a047 green darken-1\",\r\n        });\r\n        setTimeout(() => {\r\n          history.push(\"/\");\r\n        }, 1000);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      <>\r\n        {isAuthenticated() ? (\r\n          userProfile.profile ? (\r\n            <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-around\",\r\n                  margin: \"18px 0px\",\r\n                  borderBottom: \"1px solid grey\",\r\n                }}\r\n              >\r\n                <div>\r\n                  <object\r\n                    data={userProfile.profile}\r\n                    style={{\r\n                      width: \"160px\",\r\n                      height: \"160px\",\r\n                      borderRadius: \"80px\",\r\n                    }}\r\n                  >\r\n                    <img\r\n                      style={{\r\n                        width: \"160px\",\r\n                        height: \"160px\",\r\n                        borderRadius: \"80px\",\r\n                      }}\r\n                      src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png\"\r\n                      alt=\"\"\r\n                    />\r\n                  </object>\r\n                </div>\r\n                <div>\r\n                  <h4>{userProfile.username}</h4>\r\n                  <h5>{userProfile.useremail}</h5>\r\n                  <div\r\n                    style={{\r\n                      display: \"Flex\",\r\n                      justifyContent: \"space-between\",\r\n                      width: \"108%\",\r\n                    }}\r\n                  >\r\n                    <h6>{userProfile.posts.length} posts</h6>\r\n                    <h6>{userProfile.followers.length} Followers</h6>\r\n                    <h6>{userProfile.following.length} Following</h6>\r\n                  </div>\r\n                  <div style={{ padding: \"10px 0px \" }}>\r\n                    {userProfile.followers.includes(user.name) ? (\r\n                      <button\r\n                        className=\"btn waves-effect waves-light #ff1744 blue accent-3\"\r\n                        onClick={() => unfollowUser()}\r\n                      >\r\n                        Unfollow\r\n                      </button>\r\n                    ) : (\r\n                      <button\r\n                        className=\"btn waves-effect waves-light #ff1744 blue accent-3\"\r\n                        onClick={() => followUser()}\r\n                      >\r\n                        Follow\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"gallery\">\r\n                {userProfile.posts.map((item) => {\r\n                  return (\r\n                    <img\r\n                      key={item._id}\r\n                      className=\"item\"\r\n                      alt={item.title}\r\n                      src={item.photo}\r\n                    />\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <h2>Loading!</h2>\r\n          )\r\n        ) : (\r\n          <Redirect to=\"/signup\" />\r\n        )}\r\n      </>\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport M from \"materialize-css\";\r\n\r\nimport { Redirect, useParams, useHistory } from \"react-router-dom\";\r\nconst Post = () => {\r\n  const [pics, setPics] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n  const { postId } = useParams();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    fetch(`${API}/post/${postId}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setPics(result);\r\n        setTitle(result.title);\r\n        setBody(result.body);\r\n        setImage(result.photo);\r\n      });\r\n  }, [postId, token]);\r\n\r\n  let photo = \"\";\r\n  const UpdatePost = () => {\r\n    const data = new FormData();\r\n    data.append(\"file\", image);\r\n    data.append(\"upload_preset\", \"insta-clone\");\r\n    data.append(\"cloud_name\", \"makarasu\");\r\n    fetch(\"https://api.cloudinary.com/v1_1/makarasu/image/upload\", {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        photo = data.secure_url;\r\n      })\r\n      .then(() => Update(title, body, photo, token, postId))\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const Update = (title, body, photo, token, postId) => {\r\n    fetch(`${API}/post/update/${postId}`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        photo: photo,\r\n        title: title,\r\n        body: body,\r\n        postId: postId,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.error) {\r\n          M.toast({\r\n            html: \"Post Updated Successful\",\r\n            classes: \"#43a047 green darken-1\",\r\n          });\r\n          setTimeout(() => {\r\n            history.push(`/profile`);\r\n          }, 1000);\r\n        } else {\r\n          M.toast({\r\n            html: data.error,\r\n            classes: \"#c62828 red darken-2\",\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  return (\r\n    <App>\r\n      {isAuthenticated() ? (\r\n        user.name === pics.postedBy ? (\r\n          <div className=\"card home-card\">\r\n            <h5 style={{ padding: \"7px\" }}>Edit Post</h5>\r\n            <div className=\"card-image\">\r\n              <img alt={pics.title} src={pics.photo} />\r\n            </div>\r\n            <div className=\"card-content\">\r\n              <h5>\r\n                <b>Title : </b>\r\n                {pics.title}\r\n              </h5>\r\n              <h5>\r\n                <b>Body :</b> {pics.body}\r\n              </h5>\r\n            </div>\r\n            <div className=\"card field\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Title\"\r\n                value={title}\r\n                onChange={(e) => setTitle(e.target.value)}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Body\"\r\n                value={body}\r\n                onChange={(e) => setBody(e.target.value)}\r\n              />\r\n              <div className=\"file-field input\">\r\n                <div className=\" btn waves-effect waves-light #ff1744 red accent-3\">\r\n                  <span>Upload Image</span>\r\n                  <input\r\n                    type=\"file\"\r\n                    onChange={(e) => setImage(e.target.files[0])}\r\n                  />\r\n                </div>\r\n                <div className=\"file-path-wrapper\">\r\n                  <input className=\"file-path validate\" type=\"text\" />\r\n                </div>\r\n              </div>\r\n              <button\r\n                className=\"btn waves-effect waves-light #ff1744 red accent-3\"\r\n                onClick={() => UpdatePost()}\r\n              >\r\n                Update Post\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <h2>Loading!</h2>\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signup\" />\r\n      )}\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { isAuthenticated } from \"../helper/AuthHelper\";\r\nimport { API } from \"../backend\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\nconst Following = () => {\r\n  const [pics, setPics] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n\r\n  useEffect(() => {\r\n    if (user._id) {\r\n      fetch(`${API}/feed/${user._id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          setPics(result);\r\n        });\r\n    } else {\r\n      return <Redirect to=\"/signup\" />;\r\n    }\r\n  }, [user._id, token]);\r\n\r\n  const likePost = (id) => {\r\n    fetch(`${API}/like`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n        userId: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const unlikePost = (id) => {\r\n    fetch(`${API}/unlike`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n        userId: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deletePost = (postid) => {\r\n    fetch(`${API}/post/delete/${user._id}/${postid}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = pics.filter((item) => {\r\n          return item._id !== result._id;\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const makeComment = (text, id) => {\r\n    fetch(`${API}/comment`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        text: text,\r\n        postId: id,\r\n        userName: user.name,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deleteComment = (cId, id) => {\r\n    fetch(`${API}/comment/delete`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        commentId: cId,\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        const newData = pics.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPics(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      {isAuthenticated() ? (\r\n        pics.length > 0 ? (\r\n          pics.map((item) => {\r\n            return (\r\n              <div key={item._id}>\r\n                <div className=\"card home-card\">\r\n                  <span className=\"card-title\">\r\n                    <h5 style={{ padding: \"7px\" }}>\r\n                      <Link\r\n                        to={\r\n                          item.userId !== user._id\r\n                            ? `/profile/${item.userId}`\r\n                            : `/profile`\r\n                        }\r\n                      >\r\n                        {item.postedBy}\r\n                      </Link>\r\n                      {item.postedBy === user.name && (\r\n                        <i\r\n                          className=\"material-icons\"\r\n                          style={{ float: \"right\" }}\r\n                          onClick={() => {\r\n                            deletePost(item._id);\r\n                          }}\r\n                        >\r\n                          delete\r\n                        </i>\r\n                      )}\r\n                    </h5>\r\n                    {/* <h6 style={{ padding: \"10px\" }}>{item.createdAt}</h6> */}\r\n                  </span>\r\n                  <div className=\"card-image\">\r\n                    <img alt={item.title} src={item.photo} />\r\n                  </div>\r\n                  <div className=\"card-content\">\r\n                    {item.like.includes(user.name) ? (\r\n                      <i\r\n                        className=\"material-icons\"\r\n                        onClick={() => {\r\n                          unlikePost(item._id);\r\n                        }}\r\n                      >\r\n                        thumb_down\r\n                      </i>\r\n                    ) : (\r\n                      <i\r\n                        className=\"material-icons\"\r\n                        onClick={() => {\r\n                          likePost(item._id);\r\n                        }}\r\n                      >\r\n                        thumb_up\r\n                      </i>\r\n                    )}\r\n\r\n                    <h6>{item.like.length} Likes</h6>\r\n                    <h6>\r\n                      <b>Title : </b>\r\n                      {item.title}\r\n                    </h6>\r\n                    <h6>\r\n                      <b>Body :</b> {item.body}\r\n                    </h6>\r\n                    {item.comment.map((record) => {\r\n                      return (\r\n                        <h6 key={record._id}>\r\n                          <span style={{ fontWeight: \"500\" }}>\r\n                            <b>{record.postedBy} : </b>\r\n                          </span>\r\n                          {record.text}\r\n                          {record.postedBy === user.name && (\r\n                            <i\r\n                              className=\"material-icons\"\r\n                              style={{ float: \"right\" }}\r\n                              onClick={() => {\r\n                                deleteComment(record._id, item._id);\r\n                              }}\r\n                            >\r\n                              delete\r\n                            </i>\r\n                          )}\r\n                        </h6>\r\n                      );\r\n                    })}\r\n                    <form\r\n                      onSubmit={(e) => {\r\n                        e.preventDefault();\r\n                        makeComment(e.target[0].value, item._id);\r\n                      }}\r\n                    >\r\n                      <input type=\"text\" placeholder=\"add a comment\" />\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        ) : (\r\n          <h2>Loading!</h2>\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signup\" />\r\n      )}\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Following;\r\n","import React from \"react\";\r\nimport Home from \"./pages/Home\";\r\nimport Login from \"./pages/Login\";\r\nimport Signup from \"./pages/Signup\";\r\nimport Profile from \"./pages/Profile\";\r\nimport CreatePost from \"./pages/CreatePost\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport UserProfile from \"./pages/UserProfile\";\r\nimport Post from \"./pages/Mypost\";\r\nimport Following from \"./pages/FollowingPost\";\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/signup\" exact component={Signup} />\r\n        <Route path=\"/login\" exact component={Login} />\r\n        <Route path=\"/profile\" exact component={Profile} />\r\n        <Route path=\"/create\" exact component={CreatePost} />\r\n        <Route path=\"/profile/:userId\" exact component={UserProfile} />\r\n        <Route path=\"/editpost/:postId\" exact component={Post} />\r\n        <Route path=\"/following\" exact component={Following} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\nimport Routes from \"./Routes\";\nimport ReactDOM from \"react-dom\";\n\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\n"],"sourceRoot":""}